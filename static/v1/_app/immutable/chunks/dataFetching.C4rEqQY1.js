import{x as A}from"./index-client.LkyNpeLM.js";function U(e,a,t){var n=e.__className,r=j(a,t);A&&e.className===r?e.__className=r:(n!==r||A&&e.className!==r)&&(a==null&&!t?e.removeAttribute("class"):e.className=r,e.__className=r)}function j(e,a){return(e??"")+(a?" "+a:"")}function D(e,a,t){if(t){if(e.classList.contains(a))return;e.classList.add(a)}else{if(!e.classList.contains(a))return;e.classList.remove(a)}}function J(e,a,t,n){var r=e.__styles??(e.__styles={});r[a]!==t&&(r[a]=t,t==null?e.style.removeProperty(a):e.style.setProperty(a,t,""))}const m="pkce_verifier",w="pkce_verifier_upstream",p="csrf_token",O="access_token",C="id_token",v="provider_token",R="/auth/v1/oidc/authorize",E="rauthy",B="/auth/v1/oidc/logout",G="/auth/v1/oidc/callback",q="/auth/v1/admin",L="/auth/v1/account",Z="/auth/v1/",M=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/gm,x=/^\+[0-9\s]{0,32}$/gm,H=/^[a-zA-Z0-9À-ÿ-.\s]{0,48}$/gm,V=/^[a-zA-Z0-9À-ÿ-]{0,48}$/gm,K=/^[a-zA-Z0-9_/-]{2,24}$/gm,W=/^[\w\sÀ-ſ\-\u3041-\u3096\u30A0-\u30FF\u3400-\u4DB5\u4E00-\u9FCB\uF900-\uFA6A\u2E80-\u2FD5\uFF66-\uFF9F\uFFA1-\uFFDC\u31F0-\u31FF]{1,32}$/gm,Y=/^[\w\sÀ-ſ\-\u3041-\u3096\u30A0-\u30FF\u3400-\u4DB5\u4E00-\u9FCB\uF900-\uFA6A\u2E80-\u2FD5\uFF66-\uFF9F\uFFA1-\uFFDC\u31F0-\u31FF]{0,32}$/gm,Q=/^[a-zA-Z0-9\-_/\s]{0,128}$/gm,X=/^[a-zA-Z0-9\-_/]{2,32}$/gm,ee=/^[a-zA-Z0-9\-_/]{2,128}$/gm,ae=/^[a-zA-Z0-9À-ſ\-\s\u3041-\u3096\u30A0-\u30FF\u3400-\u4DB5\u4E00-\u9FCB\uF900-\uFA6A\u2E80-\u2FD5\uFF66-\uFF9F\uFFA1-\uFFDC\u31F0-\u31FF]{0,128}$/m,te=/^[a-zA-Z0-9+.@/:]{0,48}$/gm,re=/^[a-z0-9-_\/:\s]{0,128}$/gm,ne=/^[a-z0-9.:-]+:\/\/[a-z0-9.:-]+$/m,se=/^(-----BEGIN CERTIFICATE-----)[a-zA-Z0-9+/=\n]+(-----END CERTIFICATE-----)$/gm,oe=/^[a-z0-9\-_/:*]{2,64}$/gm,ie=/^[a-zA-Z0-9,.:/_\-&?=~#!$'()*+%]*$/gm,ue=/^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$/gm,ce=/(#(?:[0-9a-f]{2}){2,4}$|(#[0-9a-f]{3}$)|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\)$|black$|silver$|gray$|whitesmoke$|maroon$|red$|purple$|fuchsia$|green$|lime$|olivedrab$|yellow$|navy$|blue$|teal$|aquamarine$|orange$|aliceblue$|antiquewhite$|aqua$|azure$|beige$|bisque$|blanchedalmond$|blueviolet$|brown$|burlywood$|cadetblue$|chartreuse$|chocolate$|coral$|cornflowerblue$|cornsilk$|crimson$|currentcolor$|darkblue$|darkcyan$|darkgoldenrod$|darkgray$|darkgreen$|darkgrey$|darkkhaki$|darkmagenta$|darkolivegreen$|darkorange$|darkorchid$|darkred$|darksalmon$|darkseagreen$|darkslateblue$|darkslategray$|darkslategrey$|darkturquoise$|darkviolet$|deeppink$|deepskyblue$|dimgray$|dimgrey$|dodgerblue$|firebrick$|floralwhite$|forestgreen$|gainsboro$|ghostwhite$|goldenrod$|gold$|greenyellow$|grey$|honeydew$|hotpink$|indianred$|indigo$|ivory$|khaki$|lavenderblush$|lavender$|lawngreen$|lemonchiffon$|lightblue$|lightcoral$|lightcyan$|lightgoldenrodyellow$|lightgray$|lightgreen$|lightgrey$|lightpink$|lightsalmon$|lightseagreen$|lightskyblue$|lightslategray$|lightslategrey$|lightsteelblue$|lightyellow$|limegreen$|linen$|mediumaquamarine$|mediumblue$|mediumorchid$|mediumpurple$|mediumseagreen$|mediumslateblue$|mediumspringgreen$|mediumturquoise$|mediumvioletred$|midnightblue$|mintcream$|mistyrose$|moccasin$|navajowhite$|oldlace$|olive$|orangered$|orchid$|palegoldenrod$|palegreen$|paleturquoise$|palevioletred$|papayawhip$|peachpuff$|peru$|pink$|plum$|powderblue$|rosybrown$|royalblue$|saddlebrown$|salmon$|sandybrown$|seagreen$|seashell$|sienna$|skyblue$|slateblue$|slategray$|slategrey$|snow$|springgreen$|steelblue$|tan$|thistle$|tomato$|transparent$|turquoise$|violet$|wheat$|white$|yellowgreen$|rebeccapurple$)/i,le=3,de=["Info","Notice","Warning","Critical"],he=["InvalidLogins","IpBlacklisted","IpBlacklistRemoved","JwksRotated","NewUserRegistered","NewRauthyAdmin","NewRauthyVersion","PossibleBruteForce","RauthyStarted","RauthyHealthy","RauthyUnhealthy","SecretsMigrated","UserEmailChange","UserPasswordReset","Test"],$e=["de","en","zh","ko"],fe=["RS256","RS384","RS512","EdDSA"],ge=[{label:"authorization_code",value:!1},{label:"client_credentials",value:!1},{label:"password",value:!1},{label:"refresh_token",value:!1},{label:"device_code",value:!1}],me=[{label:"S256",value:!1},{label:"plain",value:!1}],ye="tpl_auth_providers",we="tpl_client_data",pe="tpl_client_data",ve="tpl_csrf_token",be="tpl_error_text",Se="tpl_device_user_code_length",_e="tpl_is_reg_open",Fe="tpl_login_action",ke="tpl_status_code";var N={};Object.defineProperty(N,"__esModule",{value:!0});function P(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Te(e,a){e||(e=43);for(var t=typeof window<"u"&&window.msCrypto||crypto,n=P(Array.prototype.map.call(t.getRandomValues(new Uint8Array(e)),function(i){return String.fromCharCode(i)}).join("")).substring(0,e),r=new Uint8Array(n.length),o=0;o<n.length;o++)r[o]=n.charCodeAt(o);var c=t.subtle.digest("SHA-256",r);typeof window<"u"&&window.CryptoOperation?(c.onerror=a,c.oncomplete=function(i){z(a,n,i.target.result)}):c.then(function(i){z(a,n,i)}).catch(a)}var I=N.default=Te;function z(e,a,t){e(null,{verifier:a,challenge:P(String.fromCharCode.apply(null,new Uint8Array(t)))})}for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=typeof Uint8Array>"u"?[]:new Uint8Array(256),y=0;y<f.length;y++)g[f.charCodeAt(y)]=y;var Ae=function(e){var a=new Uint8Array(e),t,n=a.length,r="";for(t=0;t<n;t+=3)r+=f[a[t]>>2],r+=f[(a[t]&3)<<4|a[t+1]>>4],r+=f[(a[t+1]&15)<<2|a[t+2]>>6],r+=f[a[t+2]&63];return n%3===2?r=r.substring(0,r.length-1)+"=":n%3===1&&(r=r.substring(0,r.length-2)+"=="),r},Oe=function(e){var a=e.length*.75,t=e.length,n,r=0,o,c,i,d;e[e.length-1]==="="&&(a--,e[e.length-2]==="="&&a--);var h=new ArrayBuffer(a),$=new Uint8Array(h);for(n=0;n<t;n+=4)o=g[e.charCodeAt(n)],c=g[e.charCodeAt(n+1)],i=g[e.charCodeAt(n+2)],d=g[e.charCodeAt(n+3)],$[r++]=o<<2|c>>4,$[r++]=(c&15)<<4|i>>2,$[r++]=(i&3)<<6|d&63;return h};function Ce(e){return`${window.location.origin}/auth/${e}/profile#me`}function Ee(e){return e.inner.reduce((a,t)=>({...a,[t.path]:t.message}),{})}function Ne(e){return e==="openid"||e==="profile"||e==="email"||e==="groups"||e==="address"||e==="phone"}const Pe=e=>{I(64,(a,{challenge:t,verifier:n})=>{if(!a){localStorage.setItem(m,n);const r=We(24),o=e||"admin",c=`${window.location.origin}${G}`.replaceAll(":","%3A").replaceAll("/","%2F");window.location.href=`${R}?client_id=${E}&redirect_uri=${c}&response_type=code&code_challenge=${t}&code_challenge_method=S256&scope=openid+profile+email&nonce=${r}&state=${o}`}})},Ie=()=>{const e=`${B}?post_logout_redirect_uri=${window.location.origin}${Z}`;window.location.href=e},ze=e=>{localStorage.setItem(p,e)},b=()=>localStorage.getItem(p)||"",Ue=e=>{localStorage.setItem(C,e)},je=e=>{localStorage.setItem(O,e)},De=e=>{localStorage.setItem(v,e)},Je=()=>localStorage.getItem(v)||"",Re=()=>localStorage.getItem(m)||"",Be=()=>localStorage.getItem(w)||"",Ge=()=>{localStorage.removeItem(m)},qe=()=>{localStorage.removeItem(p),localStorage.removeItem(C),localStorage.removeItem(O),localStorage.removeItem(m),localStorage.removeItem(w),localStorage.removeItem(v)};function Le(e){let a=Ae(e);const t={"+":"-","/":"_","=":""};return a.replace(/[+/=]/g,n=>t[n])}function Ze(e){const a={"-":"+",_:"/",".":"="},t=e.replace(/[-_.]/g,n=>a[n]);return Oe(t)}function Me(e){switch(e){case"test":return"#b2b2b2";case"info":return"#388c51";case"notice":return"#3d5d99";case"warning":return"#c29a4f";case"critical":return"#993d49"}}const xe=e=>e.toISOString().slice(0,16),He=e=>{let a=Date.parse(e);if(!isNaN(a))return a/1e3},Ve=(e,a)=>{const t=-new Date().getTimezoneOffset(),n=new Date((e+t*60)*1e3);let r=n.getUTCDate();r<10&&(r="0"+r);let o=n.getUTCMonth()+1;o<10&&(o="0"+o);const c=n.getUTCFullYear();let i=n.getUTCHours();i<10&&(i="0"+i);let d=n.getUTCMinutes();d<10&&(d="0"+d);let h=n.getUTCSeconds();return h<10&&(h="0"+h),a?`${c}-${o}-${r}T${i}:${d}:${h}`:`${c}/${o}/${r} ${i}:${d}:${h}`},Ke=(e,a,t,n,r)=>{const o=a||1,c=t||1,i=n||1,d=r||1;for(;;){let h=e||16,$=0,S=0,_=0,F=0,k=[];for(let T=0;T<h;T+=1){let l=60;for(;l>57&&l<65||l>90&&l<97;)l=Math.floor(Math.random()*74)+33;l>=91&&l<=122&&($+=1),l>=65&&l<=90&&(S+=1),l>=48&&l<=57&&(_+=1),l>=33&&l<=47&&(F+=1),k.push(String.fromCharCode(l))}if(!($<o||S<c||F<d||_<i))return k.join("")}},We=e=>{let a="";const t=e;for(let n=0;n<t;n+=1){let r=60;for(;r>57&&r<65||r>90&&r<97;)r=Math.floor(Math.random()*74)+48;a=a.concat(String.fromCharCode(r))}return a},Ye=()=>new Proxy(new URLSearchParams(window.location.search),{get:(e,a)=>e.get(a.toString())}),Qe=(e,a)=>{let t;return Promise.race([e,new Promise((n,r)=>t=setTimeout(r,a,"timeout"))]).finally(()=>clearTimeout(t))},u={json:{"Content-Type":"application/json",Accept:"application/json"},form:{"Content-type":"application/x-www-form-urlencoded",Accept:"application/json"}};function s(){return{...u.json,"csrf-token":b()}}function Xe(){return{...u.form,"csrf-token":b()}}async function ea(e){const a=await fetch("/auth/v1/oidc/authorize",{method:"POST",headers:s(),body:JSON.stringify(e)});return a.status===202&&window.location.replace(a.headers.get("location")),a}async function aa(e){const a=await fetch("/auth/v1/oidc/authorize/refresh",{method:"POST",headers:s(),body:JSON.stringify(e)});return a.status===202&&window.location.replace(a.headers.get("location")),a}async function ta(){return await fetch("/auth/v1/version",{method:"GET",headers:u.json})}async function ra(){return await fetch("/auth/v1/auth_check_admin",{method:"GET",headers:u.json})}async function na(e){return await fetch("/auth/v1/oidc/token",{method:"POST",headers:u.form,body:e})}async function sa(){return await fetch("/auth/v1/oidc/sessioninfo",{method:"GET",headers:u.json})}async function oa(e){return await fetch("/auth/v1/oidc/sessioninfo/xsrf",{method:"GET",headers:{...u.json,Authorization:`Bearer ${e}`}})}async function ia(e){let a=new FormData;for(let t in e)a.append(t,e[t]);return await fetch("/auth/v1/oidc/logout",{method:"POST",headers:Xe(),body:a})}async function ua(e){return await fetch("/auth/v1/oidc/device/verify",{method:"POST",headers:s(),body:JSON.stringify(e)})}async function ca(){return await fetch("/auth/v1/fed_cm/status",{method:"GET",headers:u.json})}async function la(){return await fetch("/auth/v1/password_policy",{method:"GET",headers:u.json})}async function da(){return await fetch("/auth/v1/pow",{method:"POST",headers:u.json})}async function ha(e,a,t){return await fetch(`/auth/v1/users/${e}/reset`,{method:"PUT",headers:{...u.json,"pwd-csrf-token":t},body:JSON.stringify(a)})}async function $a(e){return await fetch("/auth/v1/users/request_reset",{method:"POST",headers:s(),body:JSON.stringify(e)})}async function fa(e){return await fetch("/auth/v1/providers/login",{method:"POST",headers:s(),body:JSON.stringify(e)})}async function ga(e){return await fetch("/auth/v1/providers/callback",{method:"POST",headers:s(),body:JSON.stringify(e)})}async function ma(){return await fetch("/auth/v1/events/test",{method:"POST",headers:s()})}async function ya(e){return await fetch("/auth/v1/users/register",{method:"POST",headers:u.json,body:JSON.stringify(e)})}async function wa(e){return await fetch(`/auth/v1/users/${e}`,{method:"GET",headers:u.json})}async function pa(e){return await fetch(`/auth/v1/users/${e}/devices`,{method:"GET",headers:s()})}async function va(e,a){return await fetch(`/auth/v1/users/${e}/devices`,{method:"PUT",headers:s(),body:JSON.stringify(a)})}async function ba(e,a){return await fetch(`/auth/v1/users/${e}/devices`,{method:"DELETE",headers:s(),body:JSON.stringify(a)})}async function Sa(e){return await fetch(`/auth/v1/users/${e}/webauthn`,{method:"GET",headers:s()})}async function _a(e,a){return await fetch(`/auth/v1/providers/${e}/link`,{method:"POST",headers:s(),body:JSON.stringify(a)})}async function Fa(){return await fetch("/auth/v1/providers/link",{method:"DELETE",headers:s()})}async function ka(e){return await fetch(`/auth/v1/users/${e}/webid/data`,{method:"GET",headers:s()})}async function Ta(e,a){return await fetch(`/auth/v1/users/${e}/webid/data`,{method:"PUT",headers:s(),body:JSON.stringify(a)})}async function Aa(e,a){return await fetch(`/auth/v1/users/${e}/self`,{method:"PUT",headers:s(),body:JSON.stringify(a)})}async function Oa(e){return await fetch(`/auth/v1/users/${e}/self/convert_passkey`,{method:"POST",headers:s()})}async function Ca(){return await fetch("/auth/v1/update_language",{method:"POST",headers:s()})}async function Ea(e,a){return await fetch(`/auth/v1/users/${e}/webauthn/register/start`,{method:"POST",headers:s(),body:JSON.stringify(a)})}async function Na(e,a,t){return await fetch(`/auth/v1/users/${e}/webauthn/register/start`,{method:"POST",headers:{...u.json,"pwd-csrf-token":t},body:JSON.stringify(a)})}async function Pa(e,a){return await fetch(`/auth/v1/users/${e}/webauthn/register/finish`,{method:"POST",headers:s(),body:JSON.stringify(a)})}async function Ia(e,a,t){return await fetch(`/auth/v1/users/${e}/webauthn/register/finish`,{method:"POST",headers:{...u.json,"pwd-csrf-token":t},body:JSON.stringify(a)})}async function za(e,a){return await fetch(`/auth/v1/users/${e}/webauthn/auth/start`,{method:"POST",headers:s(),body:JSON.stringify(a)})}async function Ua(e,a){return await fetch(`/auth/v1/users/${e}/webauthn/auth/finish`,{method:"POST",headers:s(),body:JSON.stringify(a)})}async function ja(e,a){return await fetch(`/auth/v1/users/${e}/webauthn/delete/${a}`,{method:"DELETE",headers:s()})}export{Qe as $,ha as A,Na as B,E as C,Ze as D,Le as E,Ia as F,ye as G,we as H,pe as I,ve as J,Fe as K,$e as L,_e as M,ea as N,Ve as O,w as P,fa as Q,q as R,De as S,ke as T,aa as U,$a as V,Be as W,Je as X,ga as Y,Ua as Z,I as _,Re as a,sa as a0,Pe as a1,Se as a2,ua as a3,pa as a4,va as a5,ae as a6,ba as a7,Ce as a8,Fa as a9,fe as aA,ce as aB,ee as aC,X as aD,Q as aE,Me as aF,de as aG,ma as aH,ue as aI,K as aJ,he as aK,re as aL,se as aM,ra as aN,_a as aa,M as ab,x as ac,H as ad,V as ae,Aa as af,Sa as ag,Ea as ah,Pa as ai,ja as aj,la as ak,Oa as al,Ta as am,Ie as an,wa as ao,ka as ap,b as aq,le as ar,He as as,xe as at,oe as au,Ne as av,ge as aw,me as ax,te as ay,ne as az,na as b,Ue as c,oa as d,ze as e,Ge as f,Ye as g,L as h,da as i,ta as j,be as k,ie as l,ca as m,Ee as n,ia as o,qe as p,W as q,ya as r,je as s,Y as t,U as u,J as v,Ca as w,D as x,Ke as y,za as z};
