import"./disclose-version.BDr9Qe-U.js";import{p as X,F as Y,t as O,a as q,g as t,f as H,s as I,i as M,c as k,r as m,h as b,O as re}from"./runtime.BsghBUX9.js";import{e as ne,d as se,s as ae}from"./render.CTp9lacC.js";import{i as K}from"./if.6Ov_EDLa.js";import{e as ie,i as le}from"./each.URXtkKAp.js";import{a as g,t as R,e as G,n as J}from"./template.jENAUvUX.js";import{s as d,d as ce,a as Q}from"./index.G5lyZbma.js";import{b as de}from"./input.D13BG9DA.js";import{p as V}from"./proxy.YH42NwLs.js";import{b as ee}from"./this.BynWoD8c.js";import{p as u}from"./props.CslUVmW_.js";import{s as te}from"./snippet.C6jUNrz1.js";import{B as N}from"./fetch.BvIeF4JA.js";import{u as W}from"./helpers.CBl6QeM5.js";import{b as be,u as ge}from"./i18n.svelte.D8rR00qK.js";var me=R('<div><!> <div class="popover svelte-15eoy2j" popover="auto"><div class="inner fade-in svelte-15eoy2j"><!></div></div></div>');function ue(h,e){X(e,!0);let s=u(e,"ref",15),v=u(e,"roleButton",3,"button"),i=u(e,"offsetLeft",3,"0px"),r=u(e,"offsetTop",3,"0px"),y=u(e,"close",15);const A=W(),$=W();let l=M(void 0),S=M(!1);Y(()=>{y(B)});function T(a){if(a.stopPropagation(),s()&&t(l))if(e.absolute)t(l).style.top=r(),t(l).style.left=i();else{let f=s().getBoundingClientRect();t(l).style.top=`calc(${f.bottom+window.scrollY}px + ${r()})`,t(l).style.left=`calc(${f.left+window.scrollX}px + ${i()})`}else console.warn("button and popover ref missing")}function B(){var a;(a=t(l))==null||a.hidePopover()}function z(a){var w;let f=a.newState;b(S,f==="open"),(w=e.onToggle)==null||w.call(e,f)}var U=me(),P=k(U);N(P,{get role(){return v()},id:A,ariaControls:$,popovertarget:$,onclick:T,get invisible(){return e.btnInvisible},get isDisabled(){return e.btnDisabled},get onLeft(){return e.onLeft},get onRight(){return e.onRight},get onUp(){return e.onUp},get onDown(){return e.onDown},get ref(){return s()},set ref(a){s(a)},children:(a,f)=>{var w=G(),F=H(w);te(F,()=>e.button),g(a,w)},$$slots:{default:!0}});var L=I(P,2);d(L,"id",$),d(L,"aria-labelledby",A);var Z=k(L),o=k(Z);{var c=a=>{var f=G(),w=H(f);{var F=E=>{var n=G(),p=H(n);te(p,()=>e.children),g(E,n)};K(w,E=>{t(S)&&E(F)})}g(a,f)},C=a=>{var f=G(),w=H(f);te(w,()=>e.children),g(a,f)};K(o,a=>{e.lazy?a(c):a(C,!1)})}m(Z),m(L),ee(L,a=>b(l,a),()=>t(l)),m(U),O(()=>d(L,"aria-label",e.ariaLabel)),ne("toggle",L,z),g(h,U),q()}var we=J('<svg fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg>');function ke(h,e){let s=u(e,"opacity",3,.9),v=u(e,"width",3,"1.5rem"),i=u(e,"color",3,"currentColor");var r=we();d(r,"stroke-width",2),O(()=>{d(r,"stroke",i()),d(r,"width",v()),d(r,"opacity",s())}),g(h,r)}var ye=J('<svg fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9.75L14.25 12m0 0l2.25 2.25M14.25 12l2.25-2.25M14.25 12L12 14.25m-2.58 4.92l-6.375-6.375a1.125 1.125 0 010-1.59L9.42 4.83c.211-.211.498-.33.796-.33H19.5a2.25 2.25 0 012.25 2.25v10.5a2.25 2.25 0 01-2.25 2.25h-9.284c-.298 0-.585-.119-.796-.33z"></path></svg>');function Ae(h,e){let s=u(e,"opacity",3,.9),v=u(e,"width",3,"1.5rem"),i=u(e,"color",3,"currentColor");var r=ye();d(r,"stroke-width",2),O(()=>{d(r,"stroke",i()),d(r,"width",v()),d(r,"opacity",s())}),g(h,r)}let Le={common:{account:"Account",back:"Zur\xFCck",copiedToClip:"Wert wurde in die Zwischenablage kopiert",copyToClip:"Wert in Zwischenablage kopieren",filter:"Filter",from:"Von",search:"Suchen",searchOptions:"Suchoptionen",until:"Bis"},error:{needsAdminRole:"Um Zugriff zu erhalten ist die Rolle <b>rauthy_admin</b> notwendig.",noAdmin:`F\xFCr Rauthy Admin Accounts ist <b>MFA Pflicht.</b><br>
            Im <b>Account</b> kann ein Passkey hinterlegt und MFA aktiviert werden.<br>
            Danach muss ein Logout und neuer Login folgen`},events:{eventLevel:"Event Level",eventType:"Event Typ"},nav:{apiKeys:"API Keys",attributes:"Attribute",blacklist:"Blacklist",clients:"Clients",config:"Konfiguration",docs:"Dokumentation",events:"Events",groups:"Gruppen",providers:"Provider",roles:"Rollen",scopes:"Scopes",sessions:"Sessions",users:"Benutzer"},search:{orderBy:"Sortieren nach ...",orderChangeToAsc:"Zu aufsteigender Sortierung wechseln",orderChangeToDesc:"Zu absteigende Sortierung wechseln"}},Ce={common:{account:"Account",back:"Back",copiedToClip:"Value has been copied to clipboard",copyToClip:"Copy value to clipboard",filter:"Filter",from:"From",search:"Search",searchOptions:"Search Options",until:"Until"},error:{needsAdminRole:`You are not assigned to the <b>rauthy_admin</b> role.<br/>
            You do not have access to the admin panel.`,noAdmin:`A Rauthy admin account must have <b>MFA enabled.</b><br>
            Please navigate to your <b>account</b> and activate MFA.<br>
            Afterward, you need to do a logout and log back in.`},events:{eventLevel:"Event Level",eventType:"Event Type"},nav:{apiKeys:"API Keys",attributes:"Attributes",blacklist:"Blacklist",clients:"Clients",config:"Config",docs:"Docs",events:"Events",groups:"Groups",providers:"Providers",roles:"Roles",scopes:"Scopes",sessions:"Sessions",users:"Users"},search:{orderBy:"Order by ...",orderChangeToAsc:"Change sort to ascending",orderChangeToDesc:"Change sort to descending"}},oe;function ve(){return oe}function Te(){switch(be()){case"de":oe=Le;break;default:oe=Ce;break}}function xe(h,e,s,v){var i,r,y;switch(h.code){case"Enter":e();break;case"Tab":(i=s.onTab)==null||i.call(s,v());break;case"ArrowUp":(r=s.onUp)==null||r.call(s,v());break;case"ArrowDown":(y=s.onDown)==null||y.call(s,v());break}}var De=R('<div class="options svelte-1wttsdc"><!></div>'),Se=h=>h.stopPropagation(),Be=R("<option></option>"),Pe=R('<datalist class="absolute svelte-1wttsdc"></datalist>'),Re=R('<span class="backspace svelte-1wttsdc"><!></span>'),$e=R('<div class="btnSearch svelte-1wttsdc"><!></div>'),Fe=R('<search class="flex container svelte-1wttsdc"><!> <input type="search" autocomplete="off" class="svelte-1wttsdc"> <!> <div class="relative"><div class="absolute btnDelete svelte-1wttsdc"><!></div></div> <!></search>');function pe(h,e){X(e,!0);let s=ge(),v=ve(),i=u(e,"id",19,W),r=u(e,"value",15,""),y=u(e,"placeholder",19,()=>v.common.search),A=u(e,"option",15),$=u(e,"focus",15),l=u(e,"width",3,"100%");const S=W();let T=M(void 0),B=re(()=>e.datalist&&e.datalist.length>0?S:void 0);Y(()=>{$(U)});function z(){var n;(n=e.onSearch)==null||n.call(e,r(),A())}function U(){var n;(n=t(T))==null||n.focus()}var P=Fe(),L=k(P);{var Z=n=>{var p=De(),x=k(p);fe(x,{get ariaLabel(){return v.common.searchOptions},get options(){return e.options},borderless:!0,offsetLeft:"-.25rem",get value(){return A()},set value(D){A(D)}}),m(p),g(n,p)};K(L,n=>{e.options&&n(Z)})}var o=I(L,2);ce(o),o.__click=[Se],o.__keydown=[xe,z,e,r],ee(o,n=>b(T,n),()=>t(T));var c=I(o,2);{var C=n=>{var p=Pe();d(p,"id",S),ie(p,21,()=>e.datalist,le,(x,D)=>{var j=Be(),_={};O(()=>{_!==(_=t(D))&&(j.value=(j.__value=t(D))==null?"":t(D))}),g(x,j)}),m(p),g(n,p)};K(c,n=>{e.datalist&&n(C)})}var a=I(c,2),f=k(a),w=k(f);N(w,{get ariaLabel(){return s.common.delete},invisible:!0,onclick:()=>r(""),children:(n,p)=>{var x=Re(),D=k(x);Ae(D,{color:"hsl(var(--bg-high))"}),m(x),g(n,x)},$$slots:{default:!0}}),m(f),m(a);var F=I(a,2);{var E=n=>{var p=$e(),x=k(p);N(x,{get ariaLabel(){return v.common.search},invisible:!0,onclick:z,children:(D,j)=>{ke(D,{})},$$slots:{default:!0}}),m(p),g(n,p)};K(F,n=>{e.onSearch&&n(E)})}m(P),O(()=>{Q(P,"border",e.borderless?void 0:"1px solid hsl(var(--bg-high))"),Q(P,"width",l()),d(o,"id",i()),d(o,"list",t(B)),d(o,"aria-label",e.ariaLabel||v.common.search),d(o,"pattern",e.pattern),d(o,"placeholder",y())}),ne("focus",o,()=>{var n;return(n=e.onFocus)==null?void 0:n.call(e)}),de(o,r),g(h,P),q()}se(["click","keydown"]);var Ee=J('<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"></path></svg>');function Oe(h,e){let s=u(e,"opacity",3,.9),v=u(e,"width",3,"1.5rem"),i=u(e,"color",3,"currentColor");var r=Ee();d(r,"stroke-width",2),O(()=>{d(r,"width",v()),d(r,"color",i()),d(r,"opacity",s())}),g(h,r)}function Ue(h,e,s,v,i){let r=h.code;r==="ArrowDown"?(h.preventDefault(),e()&&b(s,t(s)+1)):r==="ArrowUp"?(h.preventDefault(),e()&&b(s,t(s)-1)):r==="Enter"&&t(s)>-1?v(t(i)[t(s)]):r==="Enter"&&t(s)===-1&&t(i).length===1&&v(t(i)[0])}var _e=R('<div class="btn svelte-5ktp6l"><div class="btnText svelte-5ktp6l"> </div> <!></div>'),Ie=R('<div class="optPopover svelte-5ktp6l"> </div>'),Me=R('<div role="listbox" tabindex="0" class="popover svelte-5ktp6l"><!> <div class="popoverOptions svelte-5ktp6l"></div></div> <input type="hidden" aria-hidden="true">',1);function fe(h,e){X(e,!0);let s=u(e,"ref",15),v=u(e,"options",19,()=>[]),i=u(e,"value",15),r=u(e,"borderless",3,!1),y=u(e,"withSearch",3,!1),A=M(void 0),$=M(void 0),l=M(V(y()?-1:0)),S=M(void 0),T=M(""),B=re(()=>{if(!y())return v();if(typeof i()=="string")return v().filter(c=>c.toLowerCase().includes(t(T).toLowerCase()));let o=Number.parseInt(t(T))||i();return v().filter(c=>c===o)}),z=!1;Y(()=>{var c;let o=i();z?(c=e.onChange)==null||c.call(e,o):z=!0}),Y(()=>{var o,c;if(t(l)===-1&&((o=t(A))==null||o.scrollTo({top:0,behavior:"smooth"})),y()){if(t(l)<0||t(l)>t(B).length-1){b(l,-1),(c=t(S))==null||c();return}}else t(l)<0?b(l,t(B).length-1):t(l)>t(B).length-1&&b(l,0),U()});function U(){if(t(A)){let o=t(A).getElementsByTagName("button")[t(l)];o==null||o.scrollIntoView({behavior:"smooth",block:"center"}),o==null||o.focus()}else console.error("refOptions is undefined")}function P(o){var c;o==="open"&&(y()?(b(l,-1),(c=t(S))==null||c()):(b(l,V(v().findIndex(C=>C===i())||0)),U()))}function L(){return t(B).length>0?!0:(b(l,-1),!1)}function Z(o){i(o),b(T,""),setTimeout(()=>{var c;(c=t($))==null||c()},20)}ue(h,{get ariaLabel(){return e.ariaLabel},roleButton:"combobox",btnInvisible:!0,get offsetTop(){return e.offsetTop},get offsetLeft(){return e.offsetLeft},onToggle:P,get onLeft(){return e.onLeft},get onRight(){return e.onRight},get onUp(){return e.onUp},get onDown(){return e.onDown},get ref(){return s()},set ref(o){s(o)},get close(){return t($)},set close(o){b($,V(o))},button:o=>{var c=_e(),C=k(c),a=k(C,!0);m(C);var f=I(C,2);Oe(f,{width:".8rem"}),m(c),O(()=>{d(c,"data-border",!r()),ae(a,i())}),g(o,c)},children:(o,c)=>{var C=Me(),a=H(C);a.__keydown=[Ue,L,l,Z,B];var f=k(a);{var w=n=>{pe(n,{onFocus:()=>b(l,-1),get value(){return t(T)},set value(p){b(T,V(p))},get focus(){return t(S)},set focus(p){b(S,V(p))}})};K(f,n=>{y()&&n(w)})}var F=I(f,2);ie(F,21,()=>t(B),le,(n,p,x)=>{N(n,{invisible:!0,invisibleOutline:!0,onclick:()=>Z(t(p)),children:(D,j)=>{var _=Ie(),he=k(_,!0);m(_),O(()=>{d(_,"aria-selected",i()===t(p)),d(_,"data-focus",t(l)===x),ae(he,t(p))}),g(D,_)},$$slots:{default:!0}})}),m(F),ee(F,n=>b(A,n),()=>t(A)),m(a);var E=I(a,2);ce(E),O(()=>{Q(a,"max-height",e.maxHeight),d(E,"name",e.name)}),de(E,i),g(o,C)},$$slots:{button:!0,default:!0}}),q()}se(["keydown"]);export{fe as O,ue as P,pe as S,Te as i,ve as u};
