import{A as d,q,ac as H,m as A,g as f,b as L,X as P,ad as I,ae as J,af as M,ag as N,ah as Q,ai as T,aj as R,ak as U,al as V,am as W,an as Z,S,L as X,y as z,ao as _,j as B,ap as Y,aq as v}from"./index-client.B6iEebqi.js";import{p as rr}from"./proxy.CjI65D-A.js";function nr(r,n,s){if(r==null)return n(void 0),d;const e=q(()=>r.subscribe(n,s));return e.unsubscribe?()=>e.unsubscribe():e}let g=!1;function er(r,n,s){const e=s[n]??(s[n]={store:null,source:A(void 0),unsubscribe:d});if(e.store!==r)if(e.unsubscribe(),e.store=r??null,r==null)e.source.v=void 0,e.unsubscribe=d;else{var u=!0;e.unsubscribe=nr(r,o=>{u?e.source.v=o:L(e.source,o)}),u=!1}return f(e.source)}function sr(r,n,s){let e=s[n];return e&&e.store!==r&&(e.unsubscribe(),e.unsubscribe=d),r}function tr(){const r={};return H(()=>{for(var n in r)r[n].unsubscribe()}),r}function ur(r){var n=g;try{return g=!1,[r(),g]}finally{g=n}}const or={get(r,n){if(!r.exclude.includes(n))return r.props[n]},set(r,n){return!1},getOwnPropertyDescriptor(r,n){if(!r.exclude.includes(n)&&n in r.props)return{enumerable:!0,configurable:!0,value:r.props[n]}},has(r,n){return r.exclude.includes(n)?!1:n in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(n=>!r.exclude.includes(n))}};function ar(r,n,s){return new Proxy({props:r,exclude:n},or)}const ir={get(r,n){let s=r.props.length;for(;s--;){let e=r.props[s];if(v(e)&&(e=e()),typeof e=="object"&&e!==null&&n in e)return e[n]}},set(r,n,s){let e=r.props.length;for(;e--;){let u=r.props[e];v(u)&&(u=u());const o=P(u,n);if(o&&o.set)return o.set(s),!0}return!1},getOwnPropertyDescriptor(r,n){let s=r.props.length;for(;s--;){let e=r.props[s];if(v(e)&&(e=e()),typeof e=="object"&&e!==null&&n in e){const u=P(e,n);return u&&!u.configurable&&(u.configurable=!0),u}}},has(r,n){if(n===S||n===X)return!1;for(let s of r.props)if(v(s)&&(s=s()),s!=null&&n in s)return!0;return!1},ownKeys(r){const n=[];for(let s of r.props){v(s)&&(s=s());for(const e in s)n.includes(e)||n.push(e)}return n}};function lr(...r){return new Proxy({props:r},ir)}function C(r){for(var n=B,s=B;n!==null&&!(n.f&(Q|T));)n=n.parent;try{return R(n),r()}finally{R(s)}}function cr(r,n,s,e){var k;var u=(s&U)!==0,o=!V||(s&W)!==0,y=(s&Z)!==0,E=(s&Y)!==0,K=!1,i;y?[i,K]=ur(()=>r[n]):i=r[n];var F=S in r||X in r,p=((k=P(r,n))==null?void 0:k.set)??(F&&y&&n in r?t=>r[n]=t:void 0),a=e,h=!0,m=!1,D=()=>(m=!0,h&&(h=!1,E?a=q(e):a=e),a);i===void 0&&e!==void 0&&(p&&o&&I(),i=D(),p&&p(i));var l;if(o)l=()=>{var t=r[n];return t===void 0?D():(h=!0,m=!1,t)};else{var O=C(()=>(u?z:_)(()=>r[n]));O.f|=J,l=()=>{var t=f(O);return t!==void 0&&(a=void 0),t===void 0?a:t}}if(!(s&M))return l;if(p){var G=r.$$legacy;return function(t,c){return arguments.length>0?((!o||!c||G||K)&&p(c?l():t),t):l()}}var x=!1,$=!1,w=A(i),b=C(()=>z(()=>{var t=l(),c=f(w);return x?(x=!1,$=!0,c):($=!1,w.v=t)}));return u||(b.equals=N),function(t,c){if(arguments.length>0){const j=c?f(b):o&&y?rr(t):t;return b.equals(j)||(x=!0,L(w,j),m&&a!==void 0&&(a=j),q(()=>f(b))),t}return f(b)}}export{sr as a,er as b,lr as c,cr as p,ar as r,tr as s};
