const m="pkce_verifier",f="pkce_verifier_upstream",h="csrf_token",y="access_token",F="id_token",w="provider_token",U="/auth/v1/oidc/authorize",b="rauthy",R="/auth/v1/oidc/logout",D="/auth/v1/oidc/callback",T="/auth/v1/admin",E="/auth/v1/account",B="/auth/v1/",Z=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/gm,q=/^\+[0-9\s]{0,32}$/gm,M=/^[a-zA-Z0-9À-ÿ-.\s]{0,48}$/gm,N=/^[a-zA-Z0-9À-ÿ-]{0,48}$/gm,O=/^[a-zA-Z0-9_/-]{2,24}$/gm,P=/^[\w\sÀ-ſ\-\u3041-\u3096\u30A0-\u30FF\u3400-\u4DB5\u4E00-\u9FCB\uF900-\uFA6A\u2E80-\u2FD5\uFF66-\uFF9F\uFFA1-\uFFDC\u31F0-\u31FF]{1,32}$/gm,j=/^[\w\sÀ-ſ\-\u3041-\u3096\u30A0-\u30FF\u3400-\u4DB5\u4E00-\u9FCB\uF900-\uFA6A\u2E80-\u2FD5\uFF66-\uFF9F\uFFA1-\uFFDC\u31F0-\u31FF]{0,32}$/gm,H=/^[a-zA-Z0-9\-_/\s]{0,128}$/gm,x=/^[a-zA-Z0-9\-_/]{2,32}$/gm,V=/^[a-zA-Z0-9\-_/]{2,128}$/gm,G=/^[a-zA-Z0-9À-ſ\-\s\u3041-\u3096\u30A0-\u30FF\u3400-\u4DB5\u4E00-\u9FCB\uF900-\uFA6A\u2E80-\u2FD5\uFF66-\uFF9F\uFFA1-\uFFDC\u31F0-\u31FF]{0,128}$/m,L=/^[a-zA-Z0-9+.@/:]{0,48}$/gm,J=/^[a-z0-9-_\/:\s]{0,128}$/gm,K=/^[a-z0-9.:-]+:\/\/[a-z0-9.:-]+$/m,W=/^(-----BEGIN CERTIFICATE-----)[a-zA-Z0-9+/=\n]+(-----END CERTIFICATE-----)$/gm,Y=/^[a-z0-9\-_/:*]{2,64}$/gm,Q=/^[a-zA-Z0-9,.:/_\-&?=~#!$'()*+%]*$/gm,X=/^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$/gm,ee=/(#(?:[0-9a-f]{2}){2,4}$|(#[0-9a-f]{3}$)|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\)$|black$|silver$|gray$|whitesmoke$|maroon$|red$|purple$|fuchsia$|green$|lime$|olivedrab$|yellow$|navy$|blue$|teal$|aquamarine$|orange$|aliceblue$|antiquewhite$|aqua$|azure$|beige$|bisque$|blanchedalmond$|blueviolet$|brown$|burlywood$|cadetblue$|chartreuse$|chocolate$|coral$|cornflowerblue$|cornsilk$|crimson$|currentcolor$|darkblue$|darkcyan$|darkgoldenrod$|darkgray$|darkgreen$|darkgrey$|darkkhaki$|darkmagenta$|darkolivegreen$|darkorange$|darkorchid$|darkred$|darksalmon$|darkseagreen$|darkslateblue$|darkslategray$|darkslategrey$|darkturquoise$|darkviolet$|deeppink$|deepskyblue$|dimgray$|dimgrey$|dodgerblue$|firebrick$|floralwhite$|forestgreen$|gainsboro$|ghostwhite$|goldenrod$|gold$|greenyellow$|grey$|honeydew$|hotpink$|indianred$|indigo$|ivory$|khaki$|lavenderblush$|lavender$|lawngreen$|lemonchiffon$|lightblue$|lightcoral$|lightcyan$|lightgoldenrodyellow$|lightgray$|lightgreen$|lightgrey$|lightpink$|lightsalmon$|lightseagreen$|lightskyblue$|lightslategray$|lightslategrey$|lightsteelblue$|lightyellow$|limegreen$|linen$|mediumaquamarine$|mediumblue$|mediumorchid$|mediumpurple$|mediumseagreen$|mediumslateblue$|mediumspringgreen$|mediumturquoise$|mediumvioletred$|midnightblue$|mintcream$|mistyrose$|moccasin$|navajowhite$|oldlace$|olive$|orangered$|orchid$|palegoldenrod$|palegreen$|paleturquoise$|palevioletred$|papayawhip$|peachpuff$|peru$|pink$|plum$|powderblue$|rosybrown$|royalblue$|saddlebrown$|salmon$|sandybrown$|seagreen$|seashell$|sienna$|skyblue$|slateblue$|slategray$|slategrey$|snow$|springgreen$|steelblue$|tan$|thistle$|tomato$|transparent$|turquoise$|violet$|wheat$|white$|yellowgreen$|rebeccapurple$)/i,ae=3,te=["Info","Notice","Warning","Critical"],re=["InvalidLogins","IpBlacklisted","IpBlacklistRemoved","JwksRotated","NewUserRegistered","NewRauthyAdmin","NewRauthyVersion","PossibleBruteForce","RauthyStarted","RauthyHealthy","RauthyUnhealthy","SecretsMigrated","UserEmailChange","UserPasswordReset","Test"],le=["de","en","zh","ko"],oe=["RS256","RS384","RS512","EdDSA"],ne=[{label:"authorization_code",value:!1},{label:"client_credentials",value:!1},{label:"password",value:!1},{label:"refresh_token",value:!1},{label:"device_code",value:!1}],ie=[{label:"S256",value:!1},{label:"plain",value:!1}],se="tpl_auth_providers",ue="tpl_client_name",$e="tpl_client_url",ce="tpl_csrf_token",de="tpl_email_old",ge="tpl_email_new",me="tpl_error_text",he="tpl_device_user_code_length",pe="tpl_is_reg_open",fe="tpl_login_action",we="tpl_password_reset",_e="tpl_status_code",ye="tpl_restricted_email_domain";var v={};Object.defineProperty(v,"__esModule",{value:!0});function k(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Fe(e,t){e||(e=43);for(var r=typeof window<"u"&&window.msCrypto||crypto,a=k(Array.prototype.map.call(r.getRandomValues(new Uint8Array(e)),function(o){return String.fromCharCode(o)}).join("")).substring(0,e),l=new Uint8Array(a.length),n=0;n<a.length;n++)l[n]=a.charCodeAt(n);var i=r.subtle.digest("SHA-256",l);typeof window<"u"&&window.CryptoOperation?(i.onerror=t,i.oncomplete=function(o){C(t,a,o.target.result)}):i.then(function(o){C(t,a,o)}).catch(t)}var A=v.default=Fe;function C(e,t,r){e(null,{verifier:t,challenge:k(String.fromCharCode.apply(null,new Uint8Array(r)))})}for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=typeof Uint8Array>"u"?[]:new Uint8Array(256),p=0;p<d.length;p++)g[d.charCodeAt(p)]=p;var S=function(e){var t=new Uint8Array(e),r,a=t.length,l="";for(r=0;r<a;r+=3)l+=d[t[r]>>2],l+=d[(t[r]&3)<<4|t[r+1]>>4],l+=d[(t[r+1]&15)<<2|t[r+2]>>6],l+=d[t[r+2]&63];return a%3===2?l=l.substring(0,l.length-1)+"=":a%3===1&&(l=l.substring(0,l.length-2)+"=="),l},I=function(e){var t=e.length*.75,r=e.length,a,l=0,n,i,o,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var $=new ArrayBuffer(t),c=new Uint8Array($);for(a=0;a<r;a+=4)n=g[e.charCodeAt(a)],i=g[e.charCodeAt(a+1)],o=g[e.charCodeAt(a+2)],u=g[e.charCodeAt(a+3)],c[l++]=n<<2|i>>4,c[l++]=(i&15)<<4|o>>2,c[l++]=(o&3)<<6|u&63;return $};function be(e){return`${window.location.origin}/auth/${e}/profile#me`}function ve(e){return e.inner.reduce((t,r)=>({...t,[r.path]:r.message}),{})}function ke(){return typeof window<"u"}function Ae(e){return e==="openid"||e==="profile"||e==="email"||e==="groups"||e==="address"||e==="phone"}const Ce=e=>{A(64,(t,{challenge:r,verifier:a})=>{if(!t){localStorage.setItem(m,a);const l=z(24),n=e||"admin",i=`${window.location.origin}${D}`.replaceAll(":","%3A").replaceAll("/","%2F");window.location.href=`${U}?client_id=${b}&redirect_uri=${i}&response_type=code&code_challenge=${r}&code_challenge_method=S256&scope=openid+profile+email&nonce=${l}&state=${n}`}})},Se=()=>{const e=`${R}?post_logout_redirect_uri=${window.location.origin}${B}`;window.location.href=e},Ie=e=>{localStorage.setItem(h,e)},ze=()=>localStorage.getItem(h)||"",Ue=e=>{localStorage.setItem(F,e)},Re=e=>{localStorage.setItem(y,e)},De=e=>{localStorage.setItem(w,e)},Te=()=>localStorage.getItem(w)||"",Ee=()=>localStorage.getItem(m)||"",Be=()=>localStorage.getItem(f)||"",Ze=()=>{localStorage.removeItem(m)},qe=()=>{localStorage.removeItem(h),localStorage.removeItem(F),localStorage.removeItem(y),localStorage.removeItem(m),localStorage.removeItem(f),localStorage.removeItem(w)};function Me(e){let t=S(e);const r={"+":"-","/":"_","=":""};return t.replace(/[+/=]/g,a=>r[a])}function Ne(e){const t={"-":"+",_:"/",".":"="},r=e.replace(/[-_.]/g,a=>t[a]);return I(r)}function Oe(e){switch(e){case"test":return"#b2b2b2";case"info":return"#388c51";case"notice":return"#3d5d99";case"warning":return"#c29a4f";case"critical":return"#993d49"}}const Pe=e=>e.toISOString().slice(0,16),je=e=>{let t=Date.parse(e);if(!isNaN(t))return t/1e3},He=(e,t)=>{const r=-new Date().getTimezoneOffset(),a=new Date((e+r*60)*1e3);let l=a.getUTCDate();l<10&&(l="0"+l);let n=a.getUTCMonth()+1;n<10&&(n="0"+n);const i=a.getUTCFullYear();let o=a.getUTCHours();o<10&&(o="0"+o);let u=a.getUTCMinutes();u<10&&(u="0"+u);let $=a.getUTCSeconds();return $<10&&($="0"+$),t?`${i}-${n}-${l}T${o}:${u}:${$}`:`${i}/${n}/${l} ${o}:${u}:${$}`},xe=e=>{const t=e.length_min>20?e.length_min:20,r=e.include_lower_case||1,a=e.include_upper_case||1,l=e.include_digits||1,n=e.include_digits||1;for(;;){let i=0,o=0,u=0,$=0,c=[];for(let _=0;_<t;_+=1){let s=60;for(;s>57&&s<65||s>90&&s<97;)s=Math.floor(Math.random()*74)+33;s>=91&&s<=122&&(i+=1),s>=65&&s<=90&&(o+=1),s>=48&&s<=57&&(u+=1),s>=33&&s<=47&&($+=1),c.push(String.fromCharCode(s))}if(!(i<r||o<a||$<n||u<l))return c.join("")}},z=e=>{let t=[];e=e||8;for(let r=0;r<e;r+=1){let a=95;for(;a>90&&a<97;)a=Math.floor(Math.random()*57)+65;t.push(String.fromCharCode(a))}return t.join("")};function Ve(e){let t=e+"=",r=decodeURIComponent(document.cookie).split(";");for(let a=0;a<r.length;a++){let l=r[a];for(;l.charAt(0)===" ";)l=l.substring(1);if(l.indexOf(t)===0)return l.substring(t.length,l.length)}return""}function Ge(e,t){let r;return Promise.race([e,new Promise((a,l)=>{r=setTimeout(l,t,"timeout")})]).finally(()=>clearTimeout(r))}export{Pe as $,ue as A,$e as B,b as C,fe as D,He as E,De as F,Be as G,Te as H,I,S as J,Ge as K,h as L,le as M,Ve as N,ke as O,f as P,be as Q,T as R,Se as S,pe as T,ae as U,Z as V,q as W,M as X,N as Y,je as Z,A as _,Ue as a,Y as a0,Ae as a1,ne as a2,ie as a3,G as a4,L as a5,K as a6,oe as a7,ee as a8,V as a9,x as aa,H as ab,Oe as ac,te as ad,X as ae,O as af,re as ag,J as ah,W as ai,Ie as b,E as c,Ze as d,ze as e,he as f,Ee as g,_e as h,me as i,Q as j,ve as k,z as l,ce as m,ye as n,P as o,qe as p,j as q,Ce as r,Re as s,de as t,ge as u,we as v,xe as w,Ne as x,Me as y,se as z};
