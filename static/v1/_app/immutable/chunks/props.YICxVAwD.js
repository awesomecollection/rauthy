import{n as d,d as j,ai as I,m as L,g as f,j as R,P as q,aj as J,ak as M,al as N,am as Q,an as T,ao as U,ap as S,aq as V,ar as W,as as X,at as Z,S as z,L as A,h as B,ah as _,v as C,au as Y,av as b}from"./index-client.Cqn5bTAA.js";import{p as rr}from"./proxy.Ce5Ub1RB.js";function nr(r,n,s){if(r==null)return n(void 0),d;const e=j(()=>r.subscribe(n,s));return e.unsubscribe?()=>e.unsubscribe():e}let g=!1;function er(r,n,s){const e=s[n]??(s[n]={store:null,source:L(void 0),unsubscribe:d});if(e.store!==r)if(e.unsubscribe(),e.store=r??null,r==null)e.source.v=void 0,e.unsubscribe=d;else{var u=!0;e.unsubscribe=nr(r,o=>{u?e.source.v=o:R(e.source,o)}),u=!1}return f(e.source)}function sr(r,n,s){let e=s[n];return e&&e.store!==r&&(e.unsubscribe(),e.unsubscribe=d),r}function tr(){const r={};return I(()=>{for(var n in r)r[n].unsubscribe()}),r}function ur(r){var n=g;try{return g=!1,[r(),g]}finally{g=n}}const or={get(r,n){if(!r.exclude.includes(n))return r.props[n]},set(r,n){return!1},getOwnPropertyDescriptor(r,n){if(!r.exclude.includes(n)&&n in r.props)return{enumerable:!0,configurable:!0,value:r.props[n]}},has(r,n){return r.exclude.includes(n)?!1:n in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(n=>!r.exclude.includes(n))}};function ar(r,n,s){return new Proxy({props:r,exclude:n},or)}const ir={get(r,n){let s=r.props.length;for(;s--;){let e=r.props[s];if(b(e)&&(e=e()),typeof e=="object"&&e!==null&&n in e)return e[n]}},set(r,n,s){let e=r.props.length;for(;e--;){let u=r.props[e];b(u)&&(u=u());const o=q(u,n);if(o&&o.set)return o.set(s),!0}return!1},getOwnPropertyDescriptor(r,n){let s=r.props.length;for(;s--;){let e=r.props[s];if(b(e)&&(e=e()),typeof e=="object"&&e!==null&&n in e){const u=q(e,n);return u&&!u.configurable&&(u.configurable=!0),u}}},has(r,n){if(n===z||n===A)return!1;for(let s of r.props)if(b(s)&&(s=s()),s!=null&&n in s)return!0;return!1},ownKeys(r){const n=[];for(let s of r.props){b(s)&&(s=s());for(const e in s)n.includes(e)||n.push(e)}return n}};function lr(...r){return new Proxy({props:r},ir)}function E(r){for(var n=C,s=C;n!==null&&!(n.f&(T|U));)n=n.parent;try{return S(n),r()}finally{S(s)}}function cr(r,n,s,e){var k;var u=(s&V)!==0,o=!W||(s&X)!==0,y=(s&Z)!==0,F=(s&Y)!==0,K=!1,i;y?[i,K]=ur(()=>r[n]):i=r[n];var G=z in r||A in r,p=((k=q(r,n))==null?void 0:k.set)??(G&&y&&n in r?t=>r[n]=t:void 0),a=e,h=!0,m=!1,D=()=>(m=!0,h&&(h=!1,F?a=j(e):a=e),a);i===void 0&&e!==void 0&&(p&&o&&J(),i=D(),p&&p(i));var l;if(o)l=()=>{var t=r[n];return t===void 0?D():(h=!0,m=!1,t)};else{var O=E(()=>(u?B:_)(()=>r[n]));O.f|=M,l=()=>{var t=f(O);return t!==void 0&&(a=void 0),t===void 0?a:t}}if(!(s&N))return l;if(p){var H=r.$$legacy;return function(t,c){return arguments.length>0?((!o||!c||H||K)&&p(c?l():t),t):l()}}var x=!1,$=!1,w=L(i),v=E(()=>B(()=>{var t=l(),c=f(w);return x?(x=!1,$=!0,c):($=!1,w.v=t)}));return u||(v.equals=Q),function(t,c){if(arguments.length>0){const P=c?f(v):o&&y?rr(t):t;return v.equals(P)||(x=!0,R(w,P),m&&a!==void 0&&(a=P),j(()=>f(v))),t}return f(v)}}export{er as a,sr as b,lr as c,cr as p,ar as r,tr as s};
