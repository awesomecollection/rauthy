import{C as d}from"./helpers.BV-akmwW.js";function s(t,a){let n;return a==="json"?n={"Content-Type":"application/json",Accept:"application/json"}:n={"Content-type":"application/x-www-form-urlencoded",Accept:"application/json"},t!=="GET"&&(n["csrf-token"]=localStorage.getItem(d)),n}async function f(t,a="json"){return e("GET",t,a)}async function p(t,a,n="json"){return a?c("POST",t,n,a):e("POST",t,n)}async function y(t,a){return await fetch(t.action,{method:t.method,headers:{"content-type":"application/x-www-form-urlencoded"},body:a})}async function l(t,a,n="json"){return a?c("PUT",t,n,a):e("PUT",t,n)}async function w(t,a,n="json"){return a?await c("DELETE",t,n,a):await e("DELETE",t,n)}async function e(t,a,n){let o=await fetch(a,{method:t,headers:s(t,n),redirect:"manual"});return await i(o)}async function c(t,a,n,o){let r;n==="json"?r=JSON.stringify(o):n==="form"&&(r=j(o));let u=await fetch(a,{method:t,headers:s(t,n),redirect:"manual",body:r});return i(u)}function j(t){let a=new FormData;for(let n of Object.keys(t)){let o=t[n];typeof o=="object"?a.append(n,JSON.stringify(o)):a.append(n,t[n])}return a}async function i(t,a){let n={body:void 0,text:void 0,error:void 0,status:t.status,headers:t.headers};return t.ok?t.headers.get("content-type")==="application/json"?n.body=await t.json():n.text=await t.text():t.status!==405&&(n.error=await t.json()),n}async function h(t,a){return await t.json()}export{y as a,p as b,l as c,w as d,h as e,f};
