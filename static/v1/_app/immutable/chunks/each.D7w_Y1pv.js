import{a2 as ee,e as ne,ac as L,h as q,v as W,b as ae,$ as re,ad as S,O as te,P as U,Q as b,k as M,ae as P,R as V,j as X,g as se,a1 as le,J as Y,af as m,ag as Z,ah as A,ai as fe,aj as ie,ak as oe,x as ue,w as ve,al as pe,am as xe,an as de,E as he,W as $,ao as ge,q as ce}from"./index-client.CVQra9Cu.js";function we(l,e){return e}function _e(l,e,n,o){for(var u=[],v=e.length,f=0;f<v;f++)fe(e[f].e,u,!0);var c=v>0&&u.length===0&&n!==null;if(c){var x=n.parentNode;ie(x),x.append(n),o.clear(),I(l,e[0].prev,e[v-1].next)}oe(u,()=>{for(var _=0;_<v;_++){var p=e[_];c||(o.delete(p.k),I(l,p.prev,p.next)),ue(p.e,!c)}})}function je(l,e,n,o,u,v=null){var f=l,c={flags:e,items:new Map,first:null},x=(e&L)!==0;if(x){var _=l;f=q?W(ve(_)):_.appendChild(ee())}q&&ae();var p=null,j=!1;ne(()=>{var k=n(),a=re(k)?k:k==null?[]:S(k),t=a.length;if(j&&t===0)return;j=t===0;let i=!1;if(q){var C=f.data===te;C!==(t===0)&&(f=U(),W(f),b(!1),i=!0)}if(q){for(var d=null,h,g=0;g<t;g++){if(M.nodeType===8&&M.data===pe){f=M,i=!0,b(!1);break}var w=a[g],r=o(w,g);h=z(M,c,d,null,w,r,g,u,e),c.items.set(r,h),d=h}t>0&&W(U())}if(!q){var s=xe;ke(a,c,f,u,e,(s.f&P)!==0,o)}v!==null&&(t===0?p?V(p):p=X(()=>v(f)):p!==null&&se(p,()=>{p=null})),i&&b(!0),n()}),q&&(f=M)}function ke(l,e,n,o,u,v,f,c){var D,F,G,H;var x=(u&de)!==0,_=(u&(m|A))!==0,p=l.length,j=e.items,k=e.first,a=k,t,i=null,C,d=[],h=[],g,w,r,s;if(x)for(s=0;s<p;s+=1)g=l[s],w=f(g,s),r=j.get(w),r!==void 0&&((D=r.a)==null||D.measure(),(C??(C=new Set)).add(r));for(s=0;s<p;s+=1){if(g=l[s],w=f(g,s),r=j.get(w),r===void 0){var E=a?a.e.nodes_start:n;i=z(E,e,i,i===null?e.first:i.next,g,w,s,o,u),j.set(w,i),d=[],h=[],a=i.next;continue}if(_&&ye(r,g,s,u),r.e.f&P&&(V(r.e),x&&((F=r.a)==null||F.unfix(),(C??(C=new Set)).delete(r))),r!==a){if(t!==void 0&&t.has(r)){if(d.length<h.length){var O=h[0],y;i=O.prev;var B=d[0],Q=d[d.length-1];for(y=0;y<d.length;y+=1)T(d[y],O,n);for(y=0;y<h.length;y+=1)t.delete(h[y]);I(e,B.prev,Q.next),I(e,i,B),I(e,Q,O),a=O,i=Q,s-=1,d=[],h=[]}else t.delete(r),T(r,a,n),I(e,r.prev,r.next),I(e,r,i===null?e.first:i.next),I(e,i,r),i=r;continue}for(d=[],h=[];a!==null&&a.k!==w;)(v||!(a.e.f&P))&&(t??(t=new Set)).add(a),h.push(a),a=a.next;if(a===null)continue;r=a}d.push(r),i=r,a=r.next}if(a!==null||t!==void 0){for(var J=t===void 0?[]:S(t);a!==null;)(v||!(a.e.f&P))&&J.push(a),a=a.next;var R=J.length;if(R>0){var N=u&L&&p===0?n:null;if(x){for(s=0;s<R;s+=1)(G=J[s].a)==null||G.measure();for(s=0;s<R;s+=1)(H=J[s].a)==null||H.fix()}_e(e,J,N,j)}}x&&le(()=>{var K;if(C!==void 0)for(r of C)(K=r.a)==null||K.apply()}),Y.first=e.first&&e.first.e,Y.last=i&&i.e}function ye(l,e,n,o){o&m&&Z(l.v,e),o&A?Z(l.i,n):l.i=n}function z(l,e,n,o,u,v,f,c,x,_){var p=(x&m)!==0,j=(x&ge)===0,k=p?j?he(u):$(u):u,a=x&A?$(f):f,t={i:a,v:k,k:v,a:null,e:null,prev:n,next:o};try{return t.e=X(()=>c(l,k,a),q),t.e.prev=n&&n.e,t.e.next=o&&o.e,n===null?e.first=t:(n.next=t,n.e.next=t.e),o!==null&&(o.prev=t,o.e.prev=t.e),t}finally{}}function T(l,e,n){for(var o=l.next?l.next.e.nodes_start:n,u=e?e.e.nodes_start:n,v=l.e.nodes_start;v!==o;){var f=ce(v);u.before(v),v=f}}function I(l,e,n){e===null?l.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}export{je as e,we as i};
