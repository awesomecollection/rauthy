import"./disclose-version.BDr9Qe-U.js";import{p as X,i as F,ao as Y,h as b,t as v,c as w,r as R,s as $,a as Z,g as C,f as d,F as G,a9 as H,aq as K}from"./index-client.CzvcfCLI.js";import{s as c}from"./render.BJBkrb2f.js";import{i as T}from"./if.Dlf0zx3_.js";import{a as o,t as f,d as L,e as A}from"./template.CQASMEo4.js";import{t as U}from"./class.DOSp4p8N.js";import{s as Q}from"./index.CqGLefLa.js";import{p as D}from"./proxy.CHyqegA9.js";import{k as _,l as ee}from"./helpers.kNqlWGzE.js";import{u as te}from"./i18n_admin.svelte.BJXwhDH_.js";import{A as ae}from"./A.C6x2nc-u.js";import{B as oe}from"./Button.CjBmYviZ.js";import{T as ie}from"./Tooltip.OH9H3eZp.js";var re=f('<div class="ip font-mono svelte-1dc3uko"> </div>'),se=f("<div><!></div>"),ne=f(" <!>",1),ve=f(" <!>",1),me=f(" <!>",1),le=f('<div role="contentinfo" class="event svelte-1dc3uko"><div class="ts svelte-1dc3uko"> </div> <!> <!></div>');function pe(j,e){X(e,!0);const N=(t,a=G)=>{var m=A(),u=d(m);{var q=i=>{var s=se(),y=w(s);oe(y,{invisible:!0,onclick:()=>z(a()),children:(k,x)=>{ie(k,{get text(){return C(I)},yOffset:20,children:(n,p)=>{var r=re(),h=w(r,!0);R(r),v(()=>c(h,a())),o(n,r)},$$slots:{default:!0}})},$$slots:{default:!0}}),R(s),o(i,s)};T(u,i=>{a()&&i(q)})}o(t,m)};let g=te(),B=F(!1),I=F(D(g.common.copyToClip));Y(()=>{new Date().getTime()-1e3*30<e.event.timestamp&&(setTimeout(()=>{b(B,!0)},100),setTimeout(()=>{b(B,!1)},2500))});function z(t){navigator.clipboard.writeText(t),b(I,D(g.common.copiedToClip)),setTimeout(()=>{b(I,D(g.common.copyToClip))},3e3)}var l=le();const J=H(()=>`2px solid ${ee(e.event.level)}`);v(()=>Q(l,"border-left",C(J)));var V=w(l),M=w(V,!0);v(()=>c(M,_(e.event.timestamp/1e3))),R(V);var E=$(V,2);{var O=t=>{var a=L();v(()=>c(a,e.event.typ)),o(t,a)};T(E,t=>{e.event.typ!=="RauthyHealthy"&&e.event.typ!=="RauthyUnhealthy"&&e.event.typ!=="NewRauthyVersion"&&e.event.typ!=="Test"&&t(O)})}var P=$(E,2);{var S=t=>{var a=ne(),m=d(a),u=$(m);N(u,()=>e.event.ip),v(()=>c(m,`${`: ${e.event.data}`??""} `)),o(t,a)},W=t=>{var a=A(),m=d(a);{var u=i=>{var s=H(()=>e.event.text||"");ae(i,{get href(){return C(s)},target:"_blank",children:(y,k)=>{K();var x=L("NewRauthyVersion");o(y,x)},$$slots:{default:!0}})},q=i=>{var s=A(),y=d(s);{var k=n=>{var p=ve(),r=d(p);v(()=>c(r,`${g.common.until??""}
        ${(e.event.data&&_(e.event.data))??""} `));var h=$(r);N(h,()=>e.event.ip),o(n,p)},x=n=>{var p=me(),r=d(p),h=$(r);N(h,()=>e.event.ip),v(()=>c(r,`${e.event.text??""} `)),o(n,p)};T(y,n=>{e.event.typ==="IpBlacklisted"?n(k):n(x,!1)},!0)}o(i,s)};T(m,i=>{e.event.typ==="NewRauthyVersion"?i(u):i(q,!1)},!0)}o(t,a)};T(P,t=>{e.event.typ==="InvalidLogins"?t(S):t(W,!1)})}R(l),v(()=>{U(l,"highlight",C(B)),U(l,"inline",e.inline)}),o(j,l),Z()}export{pe as E};
