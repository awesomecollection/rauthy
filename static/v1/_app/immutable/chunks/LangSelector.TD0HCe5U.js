import"./disclose-version.BDr9Qe-U.js";import{p as x,F as b,g as o,h as f,f as O,t as M,a as S,i as y,c as I,r as B,G as C,O as T}from"./runtime.BsghBUX9.js";import{e as $,a as v,t as g}from"./template.jENAUvUX.js";import{i as F}from"./if.6Ov_EDLa.js";import{t as A}from"./index.G5lyZbma.js";import{p as L}from"./proxy.YH42NwLs.js";import{u as j}from"./i18n.svelte.D8rR00qK.js";import{B as G,b as H}from"./fetch.BvIeF4JA.js";import{p as J}from"./props.CslUVmW_.js";import{J as P,L as z}from"./helpers.CBl6QeM5.js";import{O as V}from"./Options.BJCTpMmM.js";var _=g(`<div class="icon moon svelte-m6xenu"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75
                        0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75
                        21a9.753 9.753 0 009.002-5.998z"></path></svg></div>`),q=g(`<div class="icon sun svelte-m6xenu"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12
                        18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75
                        3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg></div>`),E=g('<div class="container svelte-m6xenu"><!></div>');function N(h,s){x(s,!0);const i="darkMode";let u=j(),e=y(void 0);b(()=>{var d,r,n;const l=((r=(d=window==null?void 0:window.matchMedia)==null?void 0:d.call(window,"(prefers-color-scheme:dark)"))==null?void 0:r.matches)??!1;if(o(e)===void 0){const t=(n=window==null?void 0:window.localStorage)==null?void 0:n.getItem(i);if(t){let m=t==="true";o(e)===l&&localStorage.removeItem(i),f(e,m)}else f(e,L(l))}else o(e)?(document.body.classList.remove("theme-light"),document.body.classList.add("theme-dark")):(document.body.classList.remove("theme-dark"),document.body.classList.add("theme-light"));l===o(e)?localStorage.removeItem(i):localStorage.setItem(i,o(e).toString())});function p(){f(e,!o(e))}var a=E(),w=I(a);G(w,{get ariaLabel(){return u.common.changeTheme},invisible:!0,onclick:p,children:(l,d)=>{var r=$(),n=O(r);{var t=c=>{var k=_();v(c,k)},m=c=>{var k=q();v(c,k)};F(n,c=>{o(e)===!0?c(t):c(m,!1)})}v(l,r)},$$slots:{default:!0}}),B(a),M(()=>A(a,"absolute",s.absolute)),v(h,a),S()}var U=g('<div class="svelte-10y6iii"><!></div>');function D(h,s){x(s,!0);let i=J(s,"openTop",3,!0);const u=";Path=/;SameSite=Lax;Max-Age=157680000";let e=j(),p=C(()=>e.lang),a=y(L(p)),w=T(()=>i()?`-${z.length*2+2}rem`:void 0),l=T(()=>i()?".2rem":void 0);b(()=>{let t=P("locale"),m=C(()=>o(a));t&&t!==m&&(document.cookie="locale="+m+u)}),b(()=>{o(a)!==p&&d()});async function d(){if(document.cookie="locale="+o(a).toLowerCase()+u,s.updateBackend){let t=await H("/auth/v1/update_language");if(t.error){console.error(t.error);return}}window.location.reload()}var r=U(),n=I(r);V(n,{get ariaLabel(){return e.common.selectI18n},options:z,borderless:!0,get offsetTop(){return o(w)},get offsetLeft(){return o(l)},get value(){return o(a)},set value(t){f(a,L(t))}}),B(r),M(()=>A(r,"absolute",s.absolute)),v(h,r),S()}export{D as L,N as T};
