import"../chunks/disclose-version.BDr9Qe-U.js";import"../chunks/legacy.pqhLE6I2.js";import{p as ea,w as x,ao as la,s as o,f as M,t as m,a as ia,v as p,u as r,c as f,r as c,aq as u}from"../chunks/index-client.ChFmlJin.js";import{s as e}from"../chunks/render.D821es-0.js";import{i as y}from"../chunks/if.DhkeN2Rc.js";import{e as va}from"../chunks/each.QTCItWz3.js";import{a as v,t as w,d as $}from"../chunks/template.DOaMAhd6.js";import{p as E}from"../chunks/proxy.DVTQVrWW.js";import{B as ma}from"../chunks/Button.DAsYf-wl.js";import{p as na}from"../chunks/dataFetchingAdmin.CWfMXXPM.js";import{f as da}from"../chunks/fetch.BnpwKXAn.js";import{E as pa}from"../chunks/Expandable.mM16xP9C.js";import{L as b}from"../chunks/LabeledValue.CC-TygYe.js";import{u as fa}from"../chunks/i18n_admin.svelte.DaAJojhX.js";import{I as ca}from"../chunks/IconCheck.D6Zcehxl.js";var ua=w('<div class="font-mono"> </div>'),$a=w('<div class="n svelte-8tua2b"> </div>'),ba=w("<!> <!> <!> <!> <!> <!> <!>",1),ka=w('<div class="err"> </div>'),ha=w('<h2>Json Web Keys</h2> <p> </p> <p> </p> <p> </p> <!> <div class="btn svelte-8tua2b"><!></div> <!> <!>',1);function ya(I,N){ea(N,!0);let k=fa(),P=x(E([])),K=x(!1),g=x(""),L=x(!1);la(()=>{R()});async function R(){var a;let s=await da("/auth/v1/oidc/certs");s.body?p(P,E(s.body.keys)):p(g,E(((a=s.error)==null?void 0:a.message)||"Error"))}async function O(){p(g,""),p(K,!0);let s=await na();if(s.ok)p(L,!0),setTimeout(()=>{p(L,!1)},3e3),await R();else{let a=await s.json();p(g,E(a.message))}p(K,!1)}var T=ha(),B=o(M(T),2),Q=f(B,!0);c(B);var C=o(B,2),S=f(C,!0);c(C);var D=o(C,2),U=f(D,!0);c(D);var W=o(D,2);va(W,17,()=>r(P),s=>s.kid,(s,a)=>{pa(s,{summary:d=>{var h=ua(),j=f(h);c(h),m(()=>e(j,`${r(a).alg??""}
                /
                ${r(a).kid??""}`)),v(d,h)},details:d=>{var h=ba(),j=M(h);b(j,{label:"Key ID",mono:!0,children:(t,n)=>{u();var l=$();m(()=>e(l,r(a).kid)),v(t,l)},$$slots:{default:!0}});var q=o(j,2);b(q,{get label(){return k.jwks.type},mono:!0,children:(t,n)=>{u();var l=$();m(()=>e(l,r(a).kty)),v(t,l)},$$slots:{default:!0}});var z=o(q,2);b(z,{get label(){return k.jwks.alg},mono:!0,children:(t,n)=>{u();var l=$();m(()=>e(l,r(a).alg)),v(t,l)},$$slots:{default:!0}});var A=o(z,2);{var Y=t=>{b(t,{label:"Curve",mono:!0,children:(n,l)=>{u();var i=$();m(()=>e(i,r(a).crv)),v(n,i)},$$slots:{default:!0}})};y(A,t=>{r(a).crv&&t(Y)})}var F=o(A,2);{var aa=t=>{b(t,{label:"n",mono:!0,children:(n,l)=>{var i=$a(),oa=f(i,!0);c(i),m(()=>e(oa,r(a).n)),v(n,i)},$$slots:{default:!0}})};y(F,t=>{r(a).n&&t(aa)})}var G=o(F,2);{var ta=t=>{b(t,{label:"e",mono:!0,children:(n,l)=>{u();var i=$();m(()=>e(i,r(a).e)),v(n,i)},$$slots:{default:!0}})};y(G,t=>{r(a).e&&t(ta)})}var sa=o(G,2);{var ra=t=>{b(t,{label:"x",mono:!0,children:(n,l)=>{u();var i=$();m(()=>e(i,r(a).x)),v(n,i)},$$slots:{default:!0}})};y(sa,t=>{r(a).x&&t(ra)})}v(d,h)},$$slots:{summary:!0,details:!0}})});var J=o(W,2),V=f(J);ma(V,{onclick:O,get isLoading(){return r(K)},children:(s,a)=>{u();var d=$();m(()=>e(d,k.jwks.rotateKeys)),v(s,d)},$$slots:{default:!0}}),c(J);var _=o(J,2);{var X=s=>{ca(s,{})};y(_,s=>{r(L)&&s(X)})}var Z=o(_,2);{var H=s=>{var a=ka(),d=f(a,!0);c(a),m(()=>e(d,r(g))),v(s,a)};y(Z,s=>{r(g)&&s(H)})}m(()=>{e(Q,k.jwks.p1),e(S,k.jwks.p2),e(U,k.jwks.p3)}),v(I,T),ia()}function ga(I){ya(I,{})}export{ga as component};
