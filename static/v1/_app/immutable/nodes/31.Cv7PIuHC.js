import"../chunks/disclose-version.BDr9Qe-U.js";import{p as U,a4 as T,f as x,a as V,g as l,h as B,t as m,ap as W,s as a,i as C,c as n,r as u,aq as H}from"../chunks/index-client.CzvcfCLI.js";import{s as c}from"../chunks/render.BJBkrb2f.js";import{i as X}from"../chunks/if.Dlf0zx3_.js";import{a as p,t as S,d as z}from"../chunks/template.CQASMEo4.js";import{h as Y}from"../chunks/svelte-head.DAqZ84H4.js";import{p as A}from"../chunks/proxy.CHyqegA9.js";import{e as Z,t as F,u as K}from"../chunks/helpers.kNqlWGzE.js";import{B as D}from"../chunks/Button.CjBmYviZ.js";import{u as tt}from"../chunks/i18n.svelte.BgTCv98Z.js";import{M as ot}from"../chunks/Main.icgLvyRI.js";import{C as at}from"../chunks/ContentCenter.BEC6assz.js";import{T as rt,L as st}from"../chunks/LangSelector.CG8Bx67-.js";import{T as it}from"../chunks/Template.Cnk31pVm.js";import{u as h}from"../chunks/param.svelte.MG9klZHr.js";import{b as et}from"../chunks/fetch.DVUNovhB.js";import{u as lt}from"../chunks/is_dev.svelte.DAJ7VTzF.js";var mt=S('<div class="container svelte-7qsjv3"><h1> </h1> <p> </p> <div class="btn svelte-7qsjv3"><!> <!></div> <!></div> <!> <!>',1),nt=S("<!> <!>",1);function ut(E,G){U(G,!0);let t=tt(),_=C(!1),i=C(""),$=A({post_logout_redirect_uri:h("post_logout_redirect_uri").get(),id_token_hint:h("id_token_hint").get(),state:h("state").get()});T(()=>{l(i)&&Z(l(i))}),T(()=>{$.id_token_hint&&k()});async function w(){window.location.replace("/auth/v1")}async function k(){B(_,!0);let o="/auth/v1/oidc/logout";lt().get()&&(o="/auth/v1/dev/logout");let q=await et(o,$,"form");F();let r=q.headers.get("location");console.log("loc",r),r?window.location.replace(r):await w()}var b=nt();Y(o=>{m(()=>W.title=(t==null?void 0:t.logout.logout)||"Logout")});var L=x(b);it(L,{id:K,get value(){return l(i)},set value(o){B(i,A(o))}});var I=a(L,2);ot(I,{children:(o,q)=>{at(o,{children:(r,ct)=>{var j=mt(),v=x(j),f=n(v),J=n(f,!0);u(f);var d=a(f,2),N=n(d,!0);u(d);var g=a(d,2),y=n(g);D(y,{onclick:k,get isLoading(){return l(_)},children:(e,R)=>{H();var s=z();m(()=>c(s,t.logout.logout)),p(e,s)},$$slots:{default:!0}});var O=a(y,2);D(O,{level:3,onclick:w,children:(e,R)=>{H();var s=z();m(()=>c(s,t.common.cancel)),p(e,s)},$$slots:{default:!0}}),u(g);var P=a(g,2);X(P,e=>{}),u(v);var M=a(v,2);rt(M,{absolute:!0});var Q=a(M,2);st(Q,{absolute:!0}),m(()=>{c(J,t.logout.logout),c(N,t.logout.confirmMsg)}),p(r,j)},$$slots:{default:!0}})},$$slots:{default:!0}}),p(E,b),V()}export{ut as component};
