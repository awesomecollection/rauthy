import"../chunks/disclose-version.BDr9Qe-U.js";import{p as R,a6 as T,f as x,a as U,y as l,z,t as m,aq as V,s as a,A as B,c as n,r as u,ar as C}from"../chunks/index-client.Di99sPv0.js";import{s as c}from"../chunks/render.Cjc4CIr8.js";import{i as W}from"../chunks/if.DgeUjMU2.js";import{a as v,t as H,d as S}from"../chunks/template.BEKX6jgL.js";import{h as X}from"../chunks/svelte-head.B7nS6fh6.js";import{p as A}from"../chunks/proxy.BQ2dmY0t.js";import{f as Y,v as Z,w as E}from"../chunks/helpers.D3KrX4pz.js";import{B as D}from"../chunks/Button.D-14suAe.js";import{u as tt}from"../chunks/i18n.svelte.Bc6aINkd.js";import{M as ot}from"../chunks/Main.DKi4VjsM.js";import{C as at}from"../chunks/ContentCenter.BgFVBEpa.js";import{L as rt}from"../chunks/LangSelector.CCDP_eNQ.js";import{T as st}from"../chunks/Template.DiUnptz0.js";import{u as h}from"../chunks/param.svelte.B2CvjQ2c.js";import{T as it}from"../chunks/ThemeSwitch._9IF3ElF.js";import{b as et}from"../chunks/fetch.DxJS_Pk_.js";import{u as lt}from"../chunks/is_dev.svelte.DF22tCPV.js";var mt=H('<div class="container svelte-7qsjv3"><h1> </h1> <p> </p> <div class="btn svelte-7qsjv3"><!> <!></div> <!></div> <!> <!>',1),nt=H("<!> <!>",1);function ut(F,G){R(G,!0);let t=tt(),_=B(!1),i=B(""),$=A({post_logout_redirect_uri:h("post_logout_redirect_uri").get(),id_token_hint:h("id_token_hint").get(),state:h("state").get()});T(()=>{l(i)&&Y(l(i))}),T(()=>{$.id_token_hint&&k()});async function w(){window.location.replace("/auth/v1")}async function k(){z(_,!0);let o="/auth/v1/oidc/logout";lt().get()&&(o="/auth/v1/dev/logout");let q=await et(o,$,"form");Z();let r=q.headers.get("location");console.log("loc",r),r?window.location.replace(r):await w()}var b=nt();X(o=>{m(()=>V.title=(t==null?void 0:t.logout.logout)||"Logout")});var L=x(b);st(L,{id:E,get value(){return l(i)},set value(o){z(i,A(o))}});var I=a(L,2);ot(I,{children:(o,q)=>{at(o,{children:(r,ct)=>{var y=mt(),f=x(y),p=n(f),J=n(p,!0);u(p);var d=a(p,2),K=n(d,!0);u(d);var g=a(d,2),j=n(g);D(j,{onclick:k,get isLoading(){return l(_)},children:(e,Q)=>{C();var s=S();m(()=>c(s,t.logout.logout)),v(e,s)},$$slots:{default:!0}});var N=a(j,2);D(N,{level:3,onclick:w,children:(e,Q)=>{C();var s=S();m(()=>c(s,t.common.cancel)),v(e,s)},$$slots:{default:!0}}),u(g);var O=a(g,2);W(O,e=>{}),u(f);var M=a(f,2);it(M,{absolute:!0});var P=a(M,2);rt(P,{absolute:!0}),m(()=>{c(J,t.logout.logout),c(K,t.logout.confirmMsg)}),v(r,y)},$$slots:{default:!0}})},$$slots:{default:!0}}),v(F,b),U()}export{ut as component};
