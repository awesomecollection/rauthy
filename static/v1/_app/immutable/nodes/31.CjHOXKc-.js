import"../chunks/disclose-version.BDr9Qe-U.js";import{p as U,a6 as T,f as x,a as V,l,m as B,t as m,aq as W,s as a,o as C,c as n,r as u,ar as H}from"../chunks/index-client.Ds4XgiuL.js";import{s as c}from"../chunks/render.Bq2-eTRf.js";import{i as X}from"../chunks/if.Du7BDhAX.js";import{a as f,t as z,d as A}from"../chunks/template.DXIK6jcH.js";import{h as Y}from"../chunks/svelte-head.DUes13UE.js";import{p as D}from"../chunks/proxy.Bsf9UJbk.js";import{f as Z,t as F,u as K}from"../chunks/helpers.BTvs6bnN.js";import{B as E}from"../chunks/Button.C_IpvWJY.js";import{u as tt}from"../chunks/i18n.svelte.CB3BpIrt.js";import{M as ot}from"../chunks/Main.DW0MpFpK.js";import{C as at}from"../chunks/ContentCenter.CKh5VTcB.js";import{L as rt}from"../chunks/LangSelector.BiRlnt0n.js";import{T as st}from"../chunks/Template.BtoWOpFu.js";import{u as h}from"../chunks/param.svelte.CIQUM_7v.js";import{T as it}from"../chunks/ThemeSwitch.DayTFcBZ.js";import{b as et}from"../chunks/fetch.DFmyLr06.js";import{u as lt}from"../chunks/is_dev.svelte.DiPpuOUn.js";var mt=z('<div class="container svelte-7qsjv3"><h1> </h1> <p> </p> <div class="btn svelte-7qsjv3"><!> <!></div> <!></div> <!> <!>',1),nt=z("<!> <!>",1);function ut(G,I){U(I,!0);let t=tt(),_=C(!1),i=C(""),$=D({post_logout_redirect_uri:h("post_logout_redirect_uri").get(),id_token_hint:h("id_token_hint").get(),state:h("state").get()});T(()=>{l(i)&&Z(l(i))}),T(()=>{$.id_token_hint&&k()});async function w(){window.location.replace("/auth/v1")}async function k(){B(_,!0);let o="/auth/v1/oidc/logout";lt().get()&&(o="/auth/v1/dev/logout");let L=await et(o,$,"form");F();let r=L.headers.get("location");console.log("loc",r),r?window.location.replace(r):await w()}var b=nt();Y(o=>{m(()=>W.title=(t==null?void 0:t.logout.logout)||"Logout")});var q=x(b);st(q,{id:K,get value(){return l(i)},set value(o){B(i,D(o))}});var J=a(q,2);ot(J,{children:(o,L)=>{at(o,{children:(r,ct)=>{var j=mt(),p=x(j),v=n(p),N=n(v,!0);u(v);var d=a(v,2),O=n(d,!0);u(d);var g=a(d,2),y=n(g);E(y,{onclick:k,get isLoading(){return l(_)},children:(e,S)=>{H();var s=A();m(()=>c(s,t.logout.logout)),f(e,s)},$$slots:{default:!0}});var P=a(y,2);E(P,{level:3,onclick:w,children:(e,S)=>{H();var s=A();m(()=>c(s,t.common.cancel)),f(e,s)},$$slots:{default:!0}}),u(g);var Q=a(g,2);X(Q,e=>{}),u(p);var M=a(p,2);it(M,{absolute:!0});var R=a(M,2);rt(R,{absolute:!0}),m(()=>{c(N,t.logout.logout),c(O,t.logout.confirmMsg)}),f(r,j)},$$slots:{default:!0}})},$$slots:{default:!0}}),f(G,b),V()}export{ut as component};
