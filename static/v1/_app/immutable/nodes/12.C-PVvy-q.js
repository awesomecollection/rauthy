import"../chunks/disclose-version.BDr9Qe-U.js";import"../chunks/legacy.BVESbwbj.js";import{p as _,w as l,F as q,a as G,u as a,v as o,s as v,c as n,r as p,ap as x,f as H}from"../chunks/runtime.BONl2e88.js";import{a as c,t as $,d as D,e as J}from"../chunks/template.B7ldVCvc.js";import{i as F}from"../chunks/if.DS90EFHs.js";import{e as ee}from"../chunks/each.Bce--_O8.js";import{b as te}from"../chunks/index.BJiFQ8Di.js";import{p as r}from"../chunks/proxy.0BECmVET.js";import{O as E,a as ae}from"../chunks/OptionSelect.TkTfcdPh.js";import{A as se,E as N,y as R,B as re}from"../chunks/helpers.CQGRRstl.js";import{O as le}from"../chunks/OrderSearchBar.DcBjpUC6.js";import{I as A}from"../chunks/Input.KbCPDMgh.js";import{E as oe}from"../chunks/Event.ClxB8TAh.js";import{S as ie}from"../chunks/Switch.DtMymIQe.js";var me=$('<div class="row svelte-hjwmgw">No events found</div>'),ve=$('<div class="content"><div class="row svelte-hjwmgw"><!></div> <div class="row filter svelte-hjwmgw"><!> <!></div> <div class="row filterOpts svelte-hjwmgw"><div><!></div> Filter <!> <!></div> <!></div>');function ne(w,B){_(B,!0);let j=l(r([])),i=l(r([])),g=l(r(se(new Date(new Date().getTime()-3600*1e3)))),d=l(void 0),b=l("Info"),u=l(!1),h=l(r(N[0])),M=[{label:"IP",callback:(e,t)=>{var s;return(s=e.ip)==null?void 0:s.includes(t)}},{label:"Content",callback:(e,t)=>{var s,m;return(m=(s=e.text)==null?void 0:s.toLowerCase())==null?void 0:m.includes(t.toLowerCase())}}],S=[{label:"Timestamp",callback:(e,t)=>e.timestamp-t.timestamp},{label:"Level",callback:(e,t)=>e.level.localeCompare(t.level)},{label:"Type",callback:(e,t)=>e.typ.localeCompare(t.typ)}];q(()=>{U()});async function U(){let e={from:R(a(g)),level:a(b).toLowerCase()};a(d)&&(e.until=R(a(d))),a(u)&&(e.typ=a(h));let t=await ae(e),s=await t.json();t.ok?o(j,r(s)):s.message}var y=ve(),O=n(y),z=n(O);le(z,{get items(){return a(j)},searchOptions:M,orderOptions:S,firstDirReverse:!0,get resItems(){return a(i)},set resItems(e){o(i,r(e))}}),p(O);var C=v(O,2),L=n(C);A(L,{type:"datetime-local",step:"60",width:"17.5rem",max:"2099-01-01T00:00",get value(){return a(g)},set value(e){o(g,r(e))},children:(e,t)=>{x();var s=D("FROM");c(e,s)},$$slots:{default:!0}});var K=v(L,2);A(K,{type:"datetime-local",step:"60",width:"17rem",max:"2099-01-01T00:00",get value(){return a(d)},set value(e){o(d,r(e))},children:(e,t)=>{x();var s=D("UNTIL");c(e,s)},$$slots:{default:!0}}),p(C);var I=v(C,2),f=n(I);te(f,"margin","0 5.5rem 0 .25rem");var P=n(f);E(P,{options:re,get value(){return a(b)},set value(e){o(b,r(e))}}),p(f);var T=v(f,2);ie(T,{get selected(){return a(u)},set selected(e){o(u,r(e))}});var Q=v(T,2);{var V=e=>{E(e,{options:N,get value(){return a(h)},set value(t){o(h,r(t))}})};F(Q,e=>{a(u)&&e(V)})}p(I);var W=v(I,2);{var X=e=>{var t=me();c(e,t)},Y=e=>{var t=J(),s=H(t);ee(s,19,()=>a(i),m=>m.id,(m,ce,k)=>{oe(m,{collapsed:!1,wide:!0,get event(){return a(i)[a(k)]},set event(Z){a(i)[a(k)]=Z}})}),c(e,t)};F(W,e=>{a(i).length===0?e(X):e(Y,!1)})}p(y),c(w,y),G()}function pe(w){ne(w,{})}export{pe as component};
