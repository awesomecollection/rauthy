import"../chunks/disclose-version.BDr9Qe-U.js";import"../chunks/legacy.C93jtn63.js";import{p as ea,i as x,ao as la,s as o,f as H,t as m,a as ia,h as p,g as r,c as f,r as c,aq as u}from"../chunks/index-client.ijM6xFk7.js";import{s as e}from"../chunks/render.BjVgqyVR.js";import{i as g}from"../chunks/if.BunKWniS.js";import{e as va}from"../chunks/each.K_FVK-xy.js";import{a as v,t as w,d as $}from"../chunks/template.DOyJZ41v.js";import{p as E}from"../chunks/proxy.DmesnD8z.js";import{B as ma}from"../chunks/Button.BiyjpsYY.js";import{p as na}from"../chunks/dataFetchingAdmin.1Vn3g5PB.js";import{f as da}from"../chunks/fetch.1g3fgaWW.js";import{E as pa}from"../chunks/Expandable.BptWwG0W.js";import{L as b}from"../chunks/LabeledValue.Ba-gVyHH.js";import{u as fa}from"../chunks/i18n_admin.svelte.DJM2cn1v.js";import{I as ca}from"../chunks/IconCheck.BI1pKadQ.js";var ua=w('<div class="font-mono"> </div>'),$a=w('<div class="n svelte-8tua2b"> </div>'),ba=w("<!> <!> <!> <!> <!> <!> <!>",1),ha=w('<div class="err"> </div>'),ka=w('<h2>Json Web Keys</h2> <p> </p> <p> </p> <p> </p> <!> <div class="btn svelte-8tua2b"><!></div> <!> <!>',1);function ga(I,M){ea(M,!0);let h=fa(),P=x(E([])),K=x(!1),y=x(""),L=x(!1);la(()=>{R()});async function R(){var a;let s=await da("/auth/v1/oidc/certs");s.body?p(P,E(s.body.keys)):p(y,E(((a=s.error)==null?void 0:a.message)||"Error"))}async function O(){p(y,""),p(K,!0);let s=await na();if(s.ok)p(L,!0),setTimeout(()=>{p(L,!1)},3e3),await R();else{let a=await s.json();p(y,E(a.message))}p(K,!1)}var T=ka(),B=o(H(T),2),Q=f(B,!0);c(B);var C=o(B,2),S=f(C,!0);c(C);var D=o(C,2),U=f(D,!0);c(D);var W=o(D,2);va(W,17,()=>r(P),s=>s.kid,(s,a)=>{pa(s,{summary:d=>{var k=ua(),j=f(k);c(k),m(()=>e(j,`${r(a).alg??""}
                /
                ${r(a).kid??""}`)),v(d,k)},details:d=>{var k=ba(),j=H(k);b(j,{label:"Key ID",mono:!0,children:(t,n)=>{u();var l=$();m(()=>e(l,r(a).kid)),v(t,l)},$$slots:{default:!0}});var q=o(j,2);b(q,{get label(){return h.jwks.type},mono:!0,children:(t,n)=>{u();var l=$();m(()=>e(l,r(a).kty)),v(t,l)},$$slots:{default:!0}});var z=o(q,2);b(z,{get label(){return h.jwks.alg},mono:!0,children:(t,n)=>{u();var l=$();m(()=>e(l,r(a).alg)),v(t,l)},$$slots:{default:!0}});var A=o(z,2);{var Z=t=>{b(t,{label:"Curve",mono:!0,children:(n,l)=>{u();var i=$();m(()=>e(i,r(a).crv)),v(n,i)},$$slots:{default:!0}})};g(A,t=>{r(a).crv&&t(Z)})}var F=o(A,2);{var aa=t=>{b(t,{label:"n",mono:!0,children:(n,l)=>{var i=$a(),oa=f(i,!0);c(i),m(()=>e(oa,r(a).n)),v(n,i)},$$slots:{default:!0}})};g(F,t=>{r(a).n&&t(aa)})}var G=o(F,2);{var ta=t=>{b(t,{label:"e",mono:!0,children:(n,l)=>{u();var i=$();m(()=>e(i,r(a).e)),v(n,i)},$$slots:{default:!0}})};g(G,t=>{r(a).e&&t(ta)})}var sa=o(G,2);{var ra=t=>{b(t,{label:"x",mono:!0,children:(n,l)=>{u();var i=$();m(()=>e(i,r(a).x)),v(n,i)},$$slots:{default:!0}})};g(sa,t=>{r(a).x&&t(ra)})}v(d,k)},$$slots:{summary:!0,details:!0}})});var J=o(W,2),V=f(J);ma(V,{onclick:O,get isLoading(){return r(K)},children:(s,a)=>{u();var d=$();m(()=>e(d,h.jwks.rotateKeys)),v(s,d)},$$slots:{default:!0}}),c(J);var _=o(J,2);{var X=s=>{ca(s,{})};g(_,s=>{r(L)&&s(X)})}var Y=o(_,2);{var N=s=>{var a=ha(),d=f(a,!0);c(a),m(()=>e(d,r(y))),v(s,a)};g(Y,s=>{r(y)&&s(N)})}m(()=>{e(Q,h.jwks.p1),e(S,h.jwks.p2),e(U,h.jwks.p3)}),v(I,T),ia()}function ya(I){ga(I,{})}export{ya as component};
