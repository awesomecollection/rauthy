import"../chunks/disclose-version.BDr9Qe-U.js";import{p as U,k as T,f as x,a as V,t as l,$ as W,g as n,b as B,s as a,d as C,c,r as u,a9 as H}from"../chunks/index-client.B6iEebqi.js";import{s as m}from"../chunks/render.Bsso_k3p.js";import{i as X}from"../chunks/if.1XSPtMho.js";import{a as v,t as z,b as A}from"../chunks/template.BMDtqFuO.js";import{h as Y}from"../chunks/svelte-head.BZpVhBz3.js";import{p as D}from"../chunks/proxy.CjI65D-A.js";import{l as Z,c as F,m as K}from"../chunks/helpers.Cbcu7vP_.js";import{B as E,T as tt,a as ot}from"../chunks/ThemeSwitch.CRSTiBZD.js";import{u as at}from"../chunks/i18n.svelte.CSnrsaW1.js";import{M as st,C as rt}from"../chunks/ContentCenter.CrmYuxhV.js";import{L as et,u as it}from"../chunks/LangSelector.BbriGzIU.js";import{T as lt}from"../chunks/Template.C8mYZqXV.js";import{u as h}from"../chunks/param.svelte.BdhMoRpL.js";var nt=z('<div class="container svelte-7qsjv3"><h1> </h1> <p> </p> <div class="btn svelte-7qsjv3"><!> <!></div> <!></div> <!> <!>',1),ct=z("<!> <!>",1);function ut(G,I){U(I,!0);let t=at(),_=C(!1),e=C(""),$=D({post_logout_redirect_uri:h("post_logout_redirect_uri").get(),id_token_hint:h("id_token_hint").get(),state:h("state").get()});T(()=>{n(e)&&F(n(e))}),T(()=>{$.id_token_hint&&k()});async function w(){window.location.replace("/auth/v1")}async function k(){B(_,!0);let o="/auth/v1/oidc/logout";it().get()&&(o="/auth/v1/dev/logout");let j=await ot(o,$,"form");K();let s=j.headers.get("location");console.log("loc",s),s?window.location.replace(s):await w()}var b=ct();Y(o=>{l(()=>W.title=(t==null?void 0:t.logout.logout)||"Logout")});var L=x(b);lt(L,{id:Z,get value(){return n(e)},set value(o){B(e,D(o))}});var J=a(L,2);st(J,{children:(o,j)=>{rt(o,{children:(s,mt)=>{var q=nt(),d=x(q),p=c(d),N=c(p,!0);u(p);var f=a(p,2),O=c(f,!0);u(f);var g=a(f,2),y=c(g);E(y,{onclick:k,get isLoading(){return n(_)},children:(i,S)=>{H();var r=A();l(()=>m(r,t.logout.logout)),v(i,r)},$$slots:{default:!0}});var P=a(y,2);E(P,{level:3,onclick:w,children:(i,S)=>{H();var r=A();l(()=>m(r,t.common.cancel)),v(i,r)},$$slots:{default:!0}}),u(g);var Q=a(g,2);X(Q,i=>{}),u(d);var M=a(d,2);tt(M,{absolute:!0});var R=a(M,2);et(R,{absolute:!0}),l(()=>{m(N,t.logout.logout),m(O,t.logout.confirmMsg)}),v(s,q)},$$slots:{default:!0}})},$$slots:{default:!0}}),v(G,b),V()}export{ut as component};
