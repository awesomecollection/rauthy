import"../chunks/disclose-version.BDr9Qe-U.js";import"../chunks/legacy.DUFkTaXF.js";import{p as ea,i as x,ao as la,s as o,f as H,t as m,a as ia,h as f,g as r,c as p,r as c,aq as u}from"../chunks/index-client.CzvcfCLI.js";import{s as e}from"../chunks/render.BJBkrb2f.js";import{i as g}from"../chunks/if.Dlf0zx3_.js";import{e as va}from"../chunks/each.BtetwUOf.js";import{a as v,t as w,d as $}from"../chunks/template.CQASMEo4.js";import{p as E}from"../chunks/proxy.CHyqegA9.js";import{B as ma}from"../chunks/Button.CjBmYviZ.js";import{a as na}from"../chunks/dataFetchingAdmin.D6QJ_imf.js";import{f as da}from"../chunks/fetch.DVUNovhB.js";import{E as fa,L as b}from"../chunks/LabeledValue.bm1VTFAO.js";import{u as pa}from"../chunks/i18n_admin.svelte.BJXwhDH_.js";import{I as ca}from"../chunks/IconCheck.kaTN2egQ.js";var ua=w('<div class="font-mono"> </div>'),$a=w('<div class="n svelte-8tua2b"> </div>'),ba=w("<!> <!> <!> <!> <!> <!> <!>",1),ha=w('<div class="err"> </div>'),ka=w('<h2>Json Web Keys</h2> <p> </p> <p> </p> <p> </p> <!> <div class="btn svelte-8tua2b"><!></div> <!> <!>',1);function ga(I,O){ea(O,!0);let h=pa(),M=x(E([])),K=x(!1),y=x(""),L=x(!1);la(()=>{P()});async function P(){var a;let s=await da("/auth/v1/oidc/certs");s.body?f(M,E(s.body.keys)):f(y,E(((a=s.error)==null?void 0:a.message)||"Error"))}async function Q(){f(y,""),f(K,!0);let s=await na();if(s.ok)f(L,!0),setTimeout(()=>{f(L,!1)},3e3),await P();else{let a=await s.json();f(y,E(a.message))}f(K,!1)}var T=ka(),B=o(H(T),2),R=p(B,!0);c(B);var C=o(B,2),S=p(C,!0);c(C);var D=o(C,2),U=p(D,!0);c(D);var W=o(D,2);va(W,17,()=>r(M),s=>s.kid,(s,a)=>{fa(s,{summary:d=>{var k=ua(),j=p(k);c(k),m(()=>e(j,`${r(a).alg??""}
                /
                ${r(a).kid??""}`)),v(d,k)},details:d=>{var k=ba(),j=H(k);b(j,{label:"Key ID",mono:!0,children:(t,n)=>{u();var l=$();m(()=>e(l,r(a).kid)),v(t,l)},$$slots:{default:!0}});var q=o(j,2);b(q,{get label(){return h.jwks.type},mono:!0,children:(t,n)=>{u();var l=$();m(()=>e(l,r(a).kty)),v(t,l)},$$slots:{default:!0}});var z=o(q,2);b(z,{get label(){return h.jwks.alg},mono:!0,children:(t,n)=>{u();var l=$();m(()=>e(l,r(a).alg)),v(t,l)},$$slots:{default:!0}});var A=o(z,2);{var Z=t=>{b(t,{label:"Curve",mono:!0,children:(n,l)=>{u();var i=$();m(()=>e(i,r(a).crv)),v(n,i)},$$slots:{default:!0}})};g(A,t=>{r(a).crv&&t(Z)})}var F=o(A,2);{var aa=t=>{b(t,{label:"n",mono:!0,children:(n,l)=>{var i=$a(),oa=p(i,!0);c(i),m(()=>e(oa,r(a).n)),v(n,i)},$$slots:{default:!0}})};g(F,t=>{r(a).n&&t(aa)})}var G=o(F,2);{var ta=t=>{b(t,{label:"e",mono:!0,children:(n,l)=>{u();var i=$();m(()=>e(i,r(a).e)),v(n,i)},$$slots:{default:!0}})};g(G,t=>{r(a).e&&t(ta)})}var sa=o(G,2);{var ra=t=>{b(t,{label:"x",mono:!0,children:(n,l)=>{u();var i=$();m(()=>e(i,r(a).x)),v(n,i)},$$slots:{default:!0}})};g(sa,t=>{r(a).x&&t(ra)})}v(d,k)},$$slots:{summary:!0,details:!0}})});var J=o(W,2),V=p(J);ma(V,{onclick:Q,get isLoading(){return r(K)},children:(s,a)=>{u();var d=$();m(()=>e(d,h.jwks.rotateKeys)),v(s,d)},$$slots:{default:!0}}),c(J);var _=o(J,2);{var X=s=>{ca(s,{})};g(_,s=>{r(L)&&s(X)})}var Y=o(_,2);{var N=s=>{var a=ha(),d=p(a,!0);c(a),m(()=>e(d,r(y))),v(s,a)};g(Y,s=>{r(y)&&s(N)})}m(()=>{e(R,h.jwks.p1),e(S,h.jwks.p2),e(U,h.jwks.p3)}),v(I,T),ia()}function ya(I){ga(I,{})}export{ya as component};
