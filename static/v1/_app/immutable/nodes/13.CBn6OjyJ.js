import"../chunks/disclose-version.BDr9Qe-U.js";import"../chunks/legacy.Dmu0D13_.js";import{p as ea,A as x,ap as la,s as o,f as M,t as m,a as ia,z as p,y as s,c as f,r as c,ar as u}from"../chunks/index-client.CVQra9Cu.js";import{s as e}from"../chunks/render.CkKFmY3E.js";import{i as h}from"../chunks/if._4yhN2kP.js";import{e as va}from"../chunks/each.D7w_Y1pv.js";import{a as v,t as g,d as $}from"../chunks/template.4ZWi6dE6.js";import{p as E}from"../chunks/proxy.Dc6q2r8X.js";import{B as ma}from"../chunks/Button.B6DffihK.js";import{p as na}from"../chunks/dataFetchingAdmin.DA15Jmej.js";import{f as da}from"../chunks/fetch.BnpwKXAn.js";import{E as pa}from"../chunks/Expandable.BcrRxLXT.js";import{L as y}from"../chunks/LabeledValue.DfaotEKr.js";import{u as fa}from"../chunks/i18n_admin.svelte.DBF4IRUg.js";import{I as ca}from"../chunks/IconCheck.jhQYM7vu.js";var ua=g('<div class="font-mono"> </div>'),$a=g('<div class="n svelte-8tua2b"> </div>'),ya=g("<!> <!> <!> <!> <!> <!> <!>",1),ba=g('<div class="err"> </div>'),ka=g('<h2>Json Web Keys</h2> <p> </p> <p> </p> <p> </p> <!> <div class="btn svelte-8tua2b"><!></div> <!> <!>',1);function ha(I,O){ea(O,!0);let b=fa(),D=x(E([])),K=x(!1),w=x(""),L=x(!1);la(()=>{J()});async function J(){var a;let r=await da("/auth/v1/oidc/certs");r.body?p(D,E(r.body.keys)):p(w,E(((a=r.error)==null?void 0:a.message)||"Error"))}async function Q(){p(w,""),p(K,!0);let r=await na();if(r.ok)p(L,!0),setTimeout(()=>{p(L,!1)},3e3),await J();else{let a=await r.json();p(w,E(a.message))}p(K,!1)}var P=ka(),z=o(M(P),2),S=f(z,!0);c(z);var A=o(z,2),U=f(A,!0);c(A);var B=o(A,2),V=f(B,!0);c(B);var R=o(B,2);va(R,17,()=>s(D),r=>r.kid,(r,a)=>{pa(r,{summary:d=>{var k=ua(),j=f(k);c(k),m(()=>e(j,`${s(a).alg??""}
                /
                ${s(a).kid??""}`)),v(d,k)},details:d=>{var k=ya(),j=M(k);y(j,{label:"Key ID",mono:!0,children:(t,n)=>{u();var l=$();m(()=>e(l,s(a).kid)),v(t,l)},$$slots:{default:!0}});var _=o(j,2);y(_,{get label(){return b.jwks.type},mono:!0,children:(t,n)=>{u();var l=$();m(()=>e(l,s(a).kty)),v(t,l)},$$slots:{default:!0}});var q=o(_,2);y(q,{get label(){return b.jwks.alg},mono:!0,children:(t,n)=>{u();var l=$();m(()=>e(l,s(a).alg)),v(t,l)},$$slots:{default:!0}});var F=o(q,2);{var Z=t=>{y(t,{label:"Curve",mono:!0,children:(n,l)=>{u();var i=$();m(()=>e(i,s(a).crv)),v(n,i)},$$slots:{default:!0}})};h(F,t=>{s(a).crv&&t(Z)})}var G=o(F,2);{var aa=t=>{y(t,{label:"n",mono:!0,children:(n,l)=>{var i=$a(),oa=f(i,!0);c(i),m(()=>e(oa,s(a).n)),v(n,i)},$$slots:{default:!0}})};h(G,t=>{s(a).n&&t(aa)})}var H=o(G,2);{var ta=t=>{y(t,{label:"e",mono:!0,children:(n,l)=>{u();var i=$();m(()=>e(i,s(a).e)),v(n,i)},$$slots:{default:!0}})};h(H,t=>{s(a).e&&t(ta)})}var ra=o(H,2);{var sa=t=>{y(t,{label:"x",mono:!0,children:(n,l)=>{u();var i=$();m(()=>e(i,s(a).x)),v(n,i)},$$slots:{default:!0}})};h(ra,t=>{s(a).x&&t(sa)})}v(d,k)},$$slots:{summary:!0,details:!0}})});var C=o(R,2),W=f(C);ma(W,{onclick:Q,get isLoading(){return s(K)},children:(r,a)=>{u();var d=$();m(()=>e(d,b.jwks.rotateKeys)),v(r,d)},$$slots:{default:!0}}),c(C);var T=o(C,2);{var X=r=>{ca(r,{})};h(T,r=>{s(L)&&r(X)})}var Y=o(T,2);{var N=r=>{var a=ba(),d=f(a,!0);c(a),m(()=>e(d,s(w))),v(r,a)};h(Y,r=>{s(w)&&r(N)})}m(()=>{e(S,b.jwks.p1),e(U,b.jwks.p2),e(V,b.jwks.p3)}),v(I,P),ia()}function wa(I){ha(I,{})}export{wa as component};
