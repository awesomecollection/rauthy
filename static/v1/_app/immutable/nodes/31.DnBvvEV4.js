import{a as l,t as M,e as T}from"../chunks/disclose-version.BP4T4xdV.js";import{aa as x,f as B,p as U,a as V,j as n,k as H,t as m,a6 as W,s as a,l as z,c as u,r as c,a7 as A}from"../chunks/index-client.hxMyB_b4.js";import{h as X,s as v}from"../chunks/render.yNX9q8-B.js";import{i as Y}from"../chunks/if.BeBa1Kxb.js";import{p as D}from"../chunks/proxy.DaVNR9vk.js";import{e as Z,q as F,t as K}from"../chunks/helpers.CchIKxjM.js";import{B as E}from"../chunks/Button.BR1gOfNn.js";import{u as tt}from"../chunks/i18n.svelte.Ci9wvqOq.js";import{M as ot}from"../chunks/Main.Rc9oYaw1.js";import{C as at}from"../chunks/ContentCenter.lHeEkgTE.js";import{L as rt}from"../chunks/LangSelector.Bl8L6Wq4.js";import{T as st}from"../chunks/Template.Ih924_PB.js";import{u as h}from"../chunks/param.svelte.BbzO27-O.js";import{T as et}from"../chunks/ThemeSwitch.DTJa252X.js";import{b as it}from"../chunks/fetch.Bq59EV_b.js";import{u as lt}from"../chunks/is_dev.svelte.CWG7yUVe.js";var nt=M('<div class="container svelte-7qsjv3"><h1> </h1> <p> </p> <div class="btn svelte-7qsjv3"><!> <!></div> <!></div> <!> <!>',1),mt=M("<!> <!>",1);function ut(G,I){V(I,!0);let t=tt(),_=z(!1),e=z(""),$=D({post_logout_redirect_uri:h("post_logout_redirect_uri").get(),id_token_hint:h("id_token_hint").get(),state:h("state").get()});x(()=>{n(e)&&Z(n(e))}),x(()=>{$.id_token_hint&&w()});async function k(){window.location.replace("/auth/v1")}async function w(){H(_,!0);let o="/auth/v1/oidc/logout";lt().get()&&(o="/auth/v1/dev/logout");let j=await it(o,$,"form");F();let r=j.headers.get("location");console.log("loc",r),r?window.location.replace(r):await k()}var b=mt();X(o=>{m(()=>W.title=(t==null?void 0:t.logout.logout)||"Logout")});var L=B(b);st(L,{id:K,get value(){return n(e)},set value(o){H(e,D(o))}});var J=a(L,2);ot(J,{children:(o,j)=>{at(o,{children:(r,ct)=>{var q=nt(),f=B(q),p=u(f),N=u(p,!0);c(p);var d=a(p,2),O=u(d,!0);c(d);var g=a(d,2),y=u(g);E(y,{onclick:w,get isLoading(){return n(_)},children:(i,S)=>{A();var s=T();m(()=>v(s,t.logout.logout)),l(i,s)},$$slots:{default:!0}});var P=a(y,2);E(P,{level:3,onclick:k,children:(i,S)=>{A();var s=T();m(()=>v(s,t.common.cancel)),l(i,s)},$$slots:{default:!0}}),c(g);var Q=a(g,2);Y(Q,i=>{}),c(f);var C=a(f,2);et(C,{absolute:!0});var R=a(C,2);rt(R,{absolute:!0}),m(()=>{v(N,t.logout.logout),v(O,t.logout.confirmMsg)}),l(r,q)},$$slots:{default:!0}})},$$slots:{default:!0}}),l(G,b),U()}export{ut as component};
