import{t as j,a as h,b as G}from"../chunks/disclose-version.C0dpEWi_.js";import{p as H,Z as B,o as I,a as J,j as r,g as w,a1 as n,$ as K,_ as O,a0 as e,a2 as l,a4 as c,a3 as M}from"../chunks/index-client.LkyNpeLM.js";import{h as P,s as m}from"../chunks/render.D21ACvZ4.js";import{i as Q}from"../chunks/if.BQqAvi9S.js";import{p as $}from"../chunks/proxy.bVSoDcUp.js";import{g as R,e as S,o as N,p as U}from"../chunks/dataFetching.C4rEqQY1.js";import{B as z}from"../chunks/Button.BDI_bIrm.js";import{u as V}from"../chunks/i18n.svelte.DPkpATkG.js";import{M as W,C as X}from"../chunks/ContentCenter.BsVUI9il.js";import{L as Y}from"../chunks/LangSelector.PrFnGVsI.js";var tt=G('<div class="container svelte-1r6sjfz"><h1> </h1> <p> </p> <div class="btn svelte-1r6sjfz"><!> <!></div> <!></div> <!>',1);function at(C,E){H(E,!0);let a=V(),i=B(!1),u=B($({}));I(async()=>{const t=R();r(u,$({post_logout_uri:t.post_logout_redirect_uri,id_token_hint:t.id_token_hint,state:t.state}));const k=window.document.getElementsByName("rauthy-csrf-token")[0].id;if(S(k),window.document.getElementsByName("rauthy-action")[0].id==="true"){r(i,!0);let d=await N(w(u));await y(d)}});async function _(){window.location.href="/auth/v1"}async function T(){r(i,!0);let t=await N(w(u));await y(t)}async function y(t){U(),t.ok&&t.headers.get("location")?window.location.replace(t.headers.get("location")):await _()}P(t=>{n(()=>K.title=(a==null?void 0:a.logout.logout)||"Logout")}),W(C,{children:(t,k)=>{X(t,{children:(d,ot)=>{var L=tt(),f=O(L),g=l(f),Z=l(g,!0);c(g);var p=e(g,2),q=l(p,!0);c(p);var v=e(p,2),b=l(v);z(b,{level:2,get isLoading(){return w(i)},set isLoading(o){r(i,$(o))},$$events:{click:T},children:(o,F)=>{M();var s=j();n(()=>m(s,a.logout.logout)),h(o,s)},$$slots:{default:!0}});var x=e(b,2);z(x,{level:4,$$events:{click:_},children:(o,F)=>{M();var s=j();n(()=>m(s,a.common.cancel)),h(o,s)},$$slots:{default:!0}}),c(v);var A=e(v,2);Q(A,o=>{}),c(f);var D=e(f,2);Y(D,{absolute:!0}),n(()=>{m(Z,a.logout.logout),m(q,a.logout.confirmMsg)}),h(d,L)},$$slots:{default:!0}})},$$slots:{default:!0}}),J()}export{at as component};
