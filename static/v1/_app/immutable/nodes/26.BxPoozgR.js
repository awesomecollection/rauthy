import{t as b,a as p,b as F}from"../chunks/disclose-version.DZhRUPAc.js";import{p as G,o as H,a as J,j as h,a2 as n,$ as K,a0 as O,a1 as e,g as P,_ as Q,a3 as l,a5 as c,a4 as j}from"../chunks/index-client.CGppiJvc.js";import{h as R,s as m}from"../chunks/render.D4MwAWTL.js";import{i as S}from"../chunks/if.DUA6Hpfn.js";import{p as T}from"../chunks/proxy.DB4Km9hY.js";import{g as U,e as V,o as z,q as W}from"../chunks/dataFetching.Dto1xJW6.js";import{B}from"../chunks/Button.BH2_dPry.js";import{u as X}from"../chunks/i18n.svelte.BTGsPiz_.js";import{M as Y,C as Z}from"../chunks/ContentCenter.CsjyBf2d.js";import{L as tt}from"../chunks/LangSelector.mSh8cV6Q.js";var at=F('<div class="container svelte-1r6sjfz"><h1> </h1> <p> </p> <div class="btn svelte-1r6sjfz"><!> <!></div> <!></div> <!>',1);function ot(E,N){G(N,!0);let a=X(),w="",i=Q(!1);H(async()=>{const t=U();w=t.post_logout_redirect_uri;const y=t.id_token_hint,u=t.state,k=window.document.getElementsByName("rauthy-csrf-token")[0].id;if(V(k),window.document.getElementsByName("rauthy-action")[0].id==="true"){h(i,!0);let r=await z({id_token_hint:y,post_logout_redirect_uri:w,state:u});await _(r)}});async function $(){window.location.href="/auth/v1"}async function q(){h(i,!0);let t=await z({});await _(t)}async function _(t){W(),t.ok&&t.headers.get("location")?window.location.replace(t.headers.get("location")):await $()}R(t=>{n(()=>K.title=(a==null?void 0:a.logout.logout)||"Logout")}),Y(E,{children:(t,y)=>{Z(t,{children:(u,k)=>{var r=at(),d=O(r),f=l(d),x=l(f,!0);c(f);var g=e(f,2),C=l(g,!0);c(g);var v=e(g,2),L=l(v);B(L,{level:2,get isLoading(){return P(i)},set isLoading(o){h(i,T(o))},$$events:{click:q},children:(o,D)=>{j();var s=b();n(()=>m(s,a.logout.logout)),p(o,s)},$$slots:{default:!0}});var I=e(L,2);B(I,{level:4,$$events:{click:$},children:(o,D)=>{j();var s=b();n(()=>m(s,a.common.cancel)),p(o,s)},$$slots:{default:!0}}),c(v);var M=e(v,2);S(M,o=>{}),c(d);var A=e(d,2);tt(A,{absolute:!0}),n(()=>{m(x,a.logout.logout),m(C,a.logout.confirmMsg)}),p(u,r)},$$slots:{default:!0}})},$$slots:{default:!0}}),J()}export{ot as component};
